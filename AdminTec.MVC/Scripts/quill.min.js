/*! Quill Editor v0.20.1
 *  https://quilljs.com/
 *  Copyright (c) 2014, Jason Chen
 *  Copyright (c) 2013, salesforce.com
 */
(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.Quill=n()}})(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(t,i,r){(function(t){
/**
 * @license
 * lodash 3.9.3 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern include="difference,intersection,last,all,each,find,invoke,map,reduce,partition,bind,defer,partial,clone,extend,defaults,omit,values,isElement,isEqual,isFunction,isNumber,isObject,isString,uniqueId" --development --output .build/lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */
(function(){function ts(n,t,i){for(var u=n.length,r=i?u:-1;i?r--:++r<u;)if(t(n[r],r,n))return r;return-1}function ui(n,t,i){if(t!==t)return is(n,i);for(var r=i-1,u=n.length;++r<u;)if(n[r]===t)return r;return-1}function ar(n){return typeof n=="function"||!1}function vr(n){return typeof n=="string"?n:n==null?"":n+""}function is(n,t,i){for(var f=n.length,r=t+(i?0:-1),u;i?r--:++r<f;)if(u=n[r],u!==u)return r;return-1}function c(n){return!!n&&typeof n=="object"}function yt(n,t){for(var i=-1,u=n.length,f=-1,r=[];++i<u;)n[i]===t&&(n[i]=nr,r[++f]=i);return r}function u(){}function ls(){}function si(n){this.__wrapped__=n;this.__actions__=null;this.__dir__=1;this.__dropCount__=0;this.__filtered__=!1;this.__iteratees__=null;this.__takeCount__=os;this.__views__=null}function vf(n){var t=n?n.length:0;for(this.data={hash:sf(null),set:new ef};t--;)this.push(n[t])}function wr(n,t){var i=n.data,r=typeof t=="string"||a(t)?i.set.has(t):i.hash[t];return r?0:-1}function as(n){var t=this.data;typeof n=="string"||a(n)?t.set.add(n):t.hash[n]=!0}function d(n,t){var i=-1,r=n.length;for(t||(t=Array(r));++i<r;)t[i]=n[i];return t}function br(n,t){for(var i=-1,r=n.length;++i<r;)if(t(n[i],i,n)===!1)break;return n}function vs(n,t){for(var i=-1,r=n.length;++i<r;)if(!t(n[i],i,n))return!1;return!0}function yf(n,t){for(var i=-1,r=n.length,u=Array(r);++i<r;)u[i]=t(n[i],i,n);return u}function ys(n,t,i,r){var u=-1,f=n.length;for(r&&f&&(i=n[++u]);++u<f;)i=t(i,n[u],u,n);return i}function ps(n,t){for(var i=-1,r=n.length;++i<r;)if(t(n[i],i,n))return!0;return!1}function ws(n,t){return n===f?t:n}function bs(n,t,i){for(var o=-1,s=tt(t),h=s.length;++o<h;){var r=s[o],u=n[r],e=i(u,t[r],r,n,t);(e===e?e===u:u!==u)&&(u!==f||r in n)||(n[r]=e)}return n}function pf(n,t){return t==null?n:ks(t,tt(t),n)}function ks(n,t,i){var r,f,u;for(i||(i={}),r=-1,f=t.length;++r<f;)u=t[r],i[u]=n[u];return i}function wf(n,t,i){var r=typeof n;return r=="function"?t===f?n:et(n,t,i):n==null?dt:r=="object"?gf(n):t===f?eo(n):uh(n,t)}function hi(n,t,i,r,u,o,c){var l,w,y,b,p;if(i&&(l=u?i(n,r,u):i(n)),l!==f)return l;if(!a(n))return n;if(w=s(n),w){if(l=uc(n),!t)return d(n,l)}else if(y=h.call(n),b=y==ht,y==v||y==ft||b&&!u){if(l=fc(b?{}:n),!t)return pf(l,n)}else return e[y]?ec(n,y,t):u?n:{};for(o||(o=[]),c||(c=[]),p=o.length;p--;)if(o[p]==n)return c[p];return o.push(n),c.push(l),(w?br:df)(n,function(r,u){l[u]=hi(r,t,i,u,n,o,c)}),l}function ds(n,t,i){if(typeof n!="function")throw new TypeError(gi);return setTimeout(function(){n.apply(f,i)},t)}function bf(n,t){var o=n?n.length:0,r=[],i,e;if(!o)return r;var s=-1,u=ee(),f=u==ui,h=f&&t.length>=200?ru(t):null,c=t.length;h&&(u=wr,f=!1,t=h);n:while(++s<o)if(i=n[s],f&&i===i){for(e=c;e--;)if(t[e]===i)continue n;r.push(i)}else u(t,i,0)<0&&r.push(i);return r}function gs(n,t){var i=!0;return g(n,function(n,r,u){return i=!!t(n,r,u)}),i}function nh(n,t,i,r){var u;return i(n,function(n,i,f){if(t(n,i,f))return u=r?i:n,!1}),u}function dr(n,t,i){for(var e=-1,l=n.length,o=-1,u=[],r,f,h;++e<l;)if(r=n[e],c(r)&&nt(r)&&(i||s(r)||pi(r)))for(t&&(r=dr(r,t,i)),f=-1,h=r.length;++f<h;)u[++o]=r[f];else i||(u[++o]=r);return u}function kf(n,t){return gr(n,t,wi)}function df(n,t){return gr(n,t,tt)}function nu(n,t,i){if(n!=null){i!==f&&i in p(n)&&(t=[i]);for(var r=0,u=t.length;n!=null&&r<u;)n=n[t[r++]];return r&&r==u?n:f}}function ci(n,t,i,r,u,f){return n===t?!0:n==null||t==null||!a(n)&&!c(t)?n!==n&&t!==t:th(n,t,ci,i,r,u,f)}function th(n,t,i,r,u,f,e){var l=s(n),w=s(t),o=st,c=st,y,p,a,g;l||(o=h.call(n),o==ft?o=v:o!=v&&(l=au(n)));w||(c=h.call(t),c==ft?c=v:c!=v&&(w=au(t)));var k=o==v,nt=c==v,d=o==c;if(d&&!(l||k))return nc(n,t,o);if(!u&&(y=k&&b.call(n,"__wrapped__"),p=nt&&b.call(t,"__wrapped__"),y||p))return i(y?n.value():n,p?t.value():t,r,u,f,e);if(!d)return!1;for(f||(f=[]),e||(e=[]),a=f.length;a--;)if(f[a]==n)return e[a]==t;return f.push(n),e.push(t),g=(l?gh:tc)(n,t,i,r,u,f,e),f.pop(),e.pop(),g}function ih(n,t,i){var u=t.length,h=u,c=!i,r,s;if(n==null)return!h;for(n=p(n);u--;)if(r=t[u],c&&r[2]?r[1]!==n[r[0]]:!(r[0]in n))return!1;while(++u<h){r=t[u];var e=r[0],o=n[e],l=r[1];if(c&&r[2]){if(o===f&&!(e in n))return!1}else if(s=i?i(o,l,e):f,!(s===f?ci(l,o,i,!0):s))return!1}return!0}function rh(n,t){var r=-1,i=nt(n)?Array(n.length):[];return g(n,function(n,u,f){i[++r]=t(n,u,f)}),i}function gf(n){var t=rc(n),i,r;return t.length==1&&t[0][2]?(i=t[0][0],r=t[0][1],function(n){return n==null?!1:n[i]===r&&(r!==f||i in p(n))}):function(n){return ih(n,t)}}function uh(n,t){var i=s(n),r=yi(n)&&oe(t),u=n+"";return n=ou(n),function(e){if(e==null)return!1;var o=u;if(e=p(e),(i||!r)&&!(o in e)){if(e=n.length==1?e:nu(e,te(n,0,-1)),e==null)return!1;o=hu(n);e=p(e)}return e[o]===t?t!==f||o in e:ci(t,e[o],f,!0)}}function ne(n){return function(t){return t==null?f:t[n]}}function fh(n){var t=n+"";return n=ou(n),function(i){return nu(i,n,t)}}function eh(n,t,i,r,u){return u(n,function(n,u,f){i=r?(r=!1,n):t(i,n,u,f)}),i}function te(n,t,i){var u=-1,r=n.length,e;for(t=t==null?0:+t||0,t<0&&(t=-t>r?0:r+t),i=i===f||i>r?r:+i||0,i<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0,e=Array(r);++u<r;)e[u]=n[u+t];return e}function oh(n,t){for(var i=-1,r=t.length,u=Array(r);++i<r;)u[i]=n[t[i]];return u}function sh(n,t,i){var u=0,r=n?n.length:u,f,e;if(typeof t=="number"&&t===t&&r<=hs){while(u<r)f=u+r>>>1,e=n[f],(i?e<=t:e<t)&&e!==null?u=f+1:r=f;return r}return hh(n,t,dt,i)}function hh(n,t,i,r){var l;t=i(t);for(var o=0,e=n?n.length:0,a=t!==t,v=t===null,y=t===f;o<e;){var s=ff((o+e)/2),u=i(n[s]),c=u!==f,h=u===u;l=a?h||r:v?h&&c&&(r||u!=null):y?h&&(r||c):u==null?!1:r?u<=t:u<t;l?o=s+1:e=s}return pr(e,ss)}function et(n,t,i){if(typeof n!="function")return dt;if(t===f)return n;switch(i){case 1:return function(i){return n.call(t,i)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)};case 5:return function(i,r,u,f,e){return n.call(t,i,r,u,f,e)}}return function(){return n.apply(t,arguments)}}function iu(n){return uf.call(n,0)}function ie(n,t,i){for(var e=i.length,r=-1,o=rt(n.length-e,0),u=-1,s=t.length,f=Array(o+s);++u<s;)f[u]=t[u];while(++r<e)f[i[r]]=n[r];while(o--)f[u++]=n[r++];return f}function re(n,t,i){for(var o=-1,s=i.length,r=-1,h=rt(n.length-s,0),f=-1,c=t.length,u=Array(h+c),e;++r<h;)u[r]=n[r];for(e=r;++f<c;)u[e+f]=t[f];while(++o<s)u[e+i[o]]=n[r++];return u}function ch(n,t){return function(i,r,u){var e=t?t():{},f,h,o;if(r=kt(r,u,3),s(i))for(f=-1,h=i.length;++f<h;)o=i[f],n(e,o,r(o,f,i),i);else g(i,function(t,i,u){n(e,t,r(t,i,u),u)});return e}}function lh(n){return w(function(t,i){var s=-1,r=t==null?0:i.length,u=r>2?i[r-2]:f,h=r>2?i[2]:f,e=r>1?i[r-1]:f,o;for(typeof u=="function"?(u=et(u,e,5),r-=2):(u=typeof e=="function"?e:f,r-=u?1:0),h&&vi(i[0],i[1],h)&&(u=r<3?f:u,r=1);++s<r;)o=i[s],o&&n(t,o,u);return t})}function ah(n,t){return function(i,r){var f=i?fu(i):0,u,e;if(!ot(f))return n(i,r);for(u=t?f:-1,e=p(i);t?u--:++u<f;)if(r(e[u],u,e)===!1)break;return i}}function vh(n){return function(t,i,r){for(var e=p(t),o=r(t),s=o.length,u=n?s:-1,f;n?u--:++u<s;)if(f=o[u],i(e[f],f,e)===!1)break;return t}}function yh(n,t){function i(){var u=this&&this!==y&&this instanceof i?r:n;return u.apply(t,arguments)}var r=li(n);return i}function li(n){return function(){var t=arguments,i,r;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4])}return i=kr(n.prototype),r=n.apply(i,t),a(r)?r:i}}function ph(n,t){return function(i,r,u){if(r=kt(r,u,3),s(i)){var e=ts(i,r,t);return e>-1?i[e]:f}return nh(i,r,n)}}function wh(n,t){return function(i,r,u){return typeof r=="function"&&u===f&&s(i)?n(i,r):t(i,et(r,u,3))}}function bh(n){var t=w(function(i,r){var u=yt(r,t.placeholder);return fe(i,n,null,r,u)});return t}function kh(n,t){return function(i,r,u,e){var o=arguments.length<3;return typeof r=="function"&&e===f&&s(i)?n(i,r,u,o):eh(i,kt(r,e,4),u,o,t)}}function ue(n,t,i,r,u,e,o,s,h,c){function a(){for(var ut=arguments.length,ot=ut,tt=Array(ut),st,ft,ht,et,ct,lt;ot--;)tt[ot]=arguments[ot];if(r&&(tt=ie(tt,r,u)),e&&(tt=re(tt,e,o)),(l||g)&&(st=a.placeholder,ft=yt(tt,st),ut-=ft.length,ut<c)){var at=s?d(s):null,vt=rt(c-ut,0),pt=l?ft:null,wt=l?null:ft,bt=l?tt:null,kt=l?null:tt;return t|=l?it:gt,t&=~(l?gt:it),b||(t&=~(k|ki)),ht=[n,t,i,bt,pt,kt,wt,at,h,vt],et=ue.apply(f,ht),sc(n)&&eu(et,ht),et.placeholder=st,et}return ct=w?i:this,lt=v?ct[n]:n,s&&(tt=ac(tt,s)),p&&h<tt.length&&(tt.length=h),this&&this!==y&&this instanceof a&&(lt=nt||li(n)),lt.apply(ct,tt)}var p=t&ut,w=t&k,v=t&ki,l=t&di,b=t&pu,g=t&oo,nt=v?null:li(n);return a}function dh(n,t,i,r){function u(){for(var l=-1,s=arguments.length,t=-1,h=r.length,o=Array(s+h),c;++t<h;)o[t]=r[t];while(s--)o[t++]=arguments[++l];return c=this&&this!==y&&this instanceof u?e:n,c.apply(f?i:this,o)}var f=t&k,e=li(n);return u}function fe(n,t,i,r,u,e,o,s){var a=t&ki,c,v,y,l,h,p,w;if(!a&&typeof n!="function")throw new TypeError(gi);return c=r?r.length:0,c||(t&=~(it|gt),r=u=null),c-=u?u.length:0,t&gt&&(v=r,y=u,r=u=null),l=a?null:uu(n),h=[n,t,i,r,u,v,y,e,o,s],l&&(hc(h,l),t=h[1],s=h[9]),h[9]=s==null?a?0:n.length:rt(s-c,0)||0,p=t==k?yh(h[0],h[2]):t!=it&&t!=(k|it)||h[4].length?ue.apply(f,h):dh.apply(f,h),w=l?tu:eu,w(p,h)}function gh(n,t,i,r,u,e,o){var h=-1,l=n.length,a=t.length;if(l!=a&&!(u&&a>l))return!1;while(++h<l){var s=n[h],c=t[h],v=r?r(u?c:s,u?s:c,h):f;if(v!==f){if(v)continue;return!1}if(u){if(!ps(t,function(n){return s===n||i(s,n,r,u,e,o)}))return!1}else if(!(s===c||i(s,c,r,u,e,o)))return!1}return!0}function nc(n,t,i){switch(i){case ni:case ti:return+n==+t;case tr:return n.name==t.name&&n.message==t.message;case ct:return n!=+n?t!=+t:n==+t;case ii:case lt:return n==t+""}return!1}function tc(n,t,i,r,u,e,o){var v=tt(n),y=v.length,d=tt(t),g=d.length,h,s,a,c,l;if(y!=g&&!u)return!1;for(h=y;h--;)if(s=v[h],!(u?s in t:b.call(t,s)))return!1;for(a=u;++h<y;){s=v[h];var p=n[s],w=t[s],k=r?r(u?w:p,u?p:w,s):f;if(!(k===f?i(p,w,r,u,e,o):k))return!1;a||(a=s=="constructor")}return!a&&(c=n.constructor,l=t.constructor,c!=l&&"constructor"in n&&"constructor"in t&&!(typeof c=="function"&&c instanceof c&&typeof l=="function"&&l instanceof l))?!1:!0}function kt(n,t,i){var r=u.callback||bi;return r=r===bi?wf:r,i?r(n,t,i):r}function ic(n){for(var u=n.name,t=cs[u],f=t?t.length:0,i,r;f--;)if(i=t[f],r=i.func,r==null||r==n)return i.name;return u}function ee(n,t,i){var r=u.indexOf||su;return r=r===su?ui:r,n?r(n,t,i):r}function rc(n){for(var t=io(n),i=t.length;i--;)t[i][2]=oe(t[i][1]);return t}function l(n,t){var i=n==null?f:n[t];return no(i)?i:f}function uc(n){var i=n.length,t=new n.constructor(i);return i&&typeof n[0]=="string"&&b.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function fc(n){var t=n.constructor;return typeof t=="function"&&t instanceof t||(t=Object),new t}function ec(n,t,i){var r=n.constructor,u,f;switch(t){case ir:return iu(n);case ni:case ti:return new r(+n);case rr:case ur:case fr:case er:case or:case sr:case hr:case cr:case lr:return u=n.buffer,new r(i?iu(u):u,n.byteOffset,n.length);case ct:case lt:return new r(n);case ii:f=new r(n.source,po.exec(n));f.lastIndex=n.lastIndex}return f}function oc(n,t,i){n==null||yi(t,n)||(t=ou(t),n=t.length==1?n:nu(n,te(t,0,-1)),t=hu(t));var r=n==null?n:n[t];return r==null?f:r.apply(n,i)}function nt(n){return n!=null&&ot(fu(n))}function ai(n,t){return n=typeof n=="number"||bo.test(n)?+n:-1,t=t==null?af:t,n>-1&&n%1==0&&n<t}function vi(n,t,i){var u,r;return a(i)?(u=typeof t,u=="number"?nt(i)&&ai(t,i.length):u=="string"&&t in i)?(r=i[t],n===n?n===r:r!==r):!1:!1}function yi(n,t){var i=typeof n,r;return i=="string"&&lo.test(n)||i=="number"?!0:s(n)?!1:(r=!co.test(n),r||t!=null&&n in p(t))}function sc(n){var r=ic(n),t,i;return(r in si.prototype)?(t=u[r],n===t)?!0:(i=uu(t),!!i&&n===i[0]):!1}function ot(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=af}function oe(n){return n===n&&!a(n)}function hc(n,t){var f=n[1],u=t[1],e=f|u,o=e<ut,s=u==ut&&f==di||u==ut&&f==wu&&n[7].length<=t[8]||u==(ut|wu)&&f==di,i,r;return(o||s)?(u&k&&(n[2]=t[2],e|=f&k?0:pu),i=t[3],i&&(r=n[3],n[3]=r?ie(r,i,t[4]):d(i),n[4]=r?yt(n[3],nr):d(t[4])),i=t[5],i&&(r=n[5],n[5]=r?re(r,i,t[6]):d(i),n[6]=r?yt(n[5],nr):d(t[6])),i=t[7],i&&(n[7]=d(i)),u&ut&&(n[8]=n[8]==null?t[8]:pr(n[8],t[8])),n[9]==null&&(n[9]=t[9]),n[0]=t[0],n[1]=e,n):n}function cc(n,t){var i;n=p(n);for(var r=-1,f=t.length,u={};++r<f;)i=t[r],i in n&&(u[i]=n[i]);return u}function lc(n,t){var i={};return kf(n,function(n,r,u){t(n,r,u)&&(i[r]=n)}),i}function ac(n,t){for(var u=n.length,i=pr(t.length,u),e=d(n),r;i--;)r=t[i],n[i]=ai(r,u)?e[r]:f;return n}function se(n){var t,r=u.support,i;return!(c(n)&&h.call(n)==v)||!b.call(n,"constructor")&&(t=n.constructor,typeof t=="function"&&!(t instanceof t))?!1:(kf(n,function(n,t){i=t}),i===f||b.call(n,i))}function he(n){for(var r=wi(n),u=r.length,i=u&&n.length,o=!!i&&ot(i)&&(s(n)||pi(n)),f=-1,e=[],t;++f<u;)t=r[f],(o&&ai(t,i)||b.call(n,t))&&e.push(t);return e}function p(n){return a(n)?n:Object(n)}function ou(n){if(s(n))return n;var t=[];return vr(n).replace(ao,function(n,i,r,u){t.push(r?u.replace(yo,"$1"):i||n)}),t}function su(n,t,i){var f=n?n.length:0,u,r;if(!f)return-1;if(typeof i=="number")i=i<0?rt(f+i,0):i;else if(i)return(u=sh(n,t),r=n[u],t===t?t===r:r!==r)?u:-1;return ui(n,t,i||0)}function hu(n){var t=n?n.length:0;return t?n[t-1]:f}function ae(n,t,i){var r=s(n)?vs:gs;return i&&vi(n,t,i)&&(t=null),(typeof t!="function"||i!==f)&&(t=kt(t,i,3)),r(n,t)}function pe(n,t,i){var r=s(n)?yf:rh;return t=kt(t,i,3),r(n,t)}function w(n,t){if(typeof n!="function")throw new TypeError(gi);return t=rt(t===f?n.length-1:+t||0,0),function(){for(var r=arguments,i=-1,e=rt(r.length-t,0),u=Array(e),f;++i<e;)u[i]=r[t+i];switch(t){case 0:return n.call(this,u);case 1:return n.call(this,r[0],u);case 2:return n.call(this,r[0],r[1],u)}for(f=Array(t+1),i=-1;++i<t;)f[i]=r[i];return f[t]=u,n.apply(this,f)}}function bc(n,t,i,r){return t&&typeof t!="boolean"&&vi(n,t,i)?t=!1:typeof t=="function"&&(r=i,i=t,t=!1),typeof i=="function"?hi(n,t,et(i,r,1)):hi(n,t)}function pi(n){return c(n)&&nt(n)&&h.call(n)==ft}function ke(n){return!!n&&n.nodeType===1&&c(n)&&h.call(n).indexOf("Element")>-1}function de(n,t,i,r){i=typeof i=="function"?et(i,r,3):f;var u=i?i(n,t):f;return u===f?ci(n,t,i):!!u}function a(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function no(n){return n==null?!1:h.call(n)==ht?us.test(rf.call(n)):c(n)&&wo.test(n)}function kc(n){return typeof n=="number"||c(n)&&h.call(n)==ct}function dc(n){return typeof n=="string"||c(n)&&h.call(n)==lt}function au(n){return c(n)&&ot(n.length)&&!!o[h.call(n)]}function wi(n){var t,i;if(n==null)return[];a(n)||(n=Object(n));t=n.length;t=t&&ot(t)&&(s(n)||pi(n))&&t||0;for(var f=n.constructor,r=-1,e=typeof f=="function"&&f.prototype===n,u=Array(t),o=t>0;++r<t;)u[r]=r+"";for(i in n)o&&ai(i,t)||i=="constructor"&&(e||!b.call(n,i))||u.push(i);return u}function io(n){var i;n=p(n);for(var t=-1,r=tt(n),u=r.length,f=Array(u);++t<u;)i=r[t],f[t]=[i,n[i]];return f}function nl(n){return oh(n,tt(n))}function ro(n){return n=vr(n),n&&vo.test(n)?n.replace(gu,"\\$&"):n}function bi(n,t,i){return i&&vi(n,t,i)&&(t=null),c(n)?uo(n):wf(n,t)}function yu(n){return function(){return n}}function dt(n){return n}function uo(n){return gf(hi(n,!0))}function fo(){}function eo(n){return yi(n)?ne(n):fh(n)}function tl(n){var t=++rs;return vr(n)+t}var f,k=1,ki=2,pu=4,di=8,oo=16,it=32,gt=64,ut=128,wu=256,so=150,ho=16,gi="Expected a function",nr="__lodash_placeholder__",ft="[object Arguments]",st="[object Array]",ni="[object Boolean]",ti="[object Date]",tr="[object Error]",ht="[object Function]",bu="[object Map]",ct="[object Number]",v="[object Object]",ii="[object RegExp]",ku="[object Set]",lt="[object String]",du="[object WeakMap]",ir="[object ArrayBuffer]",rr="[object Float32Array]",ur="[object Float64Array]",fr="[object Int8Array]",er="[object Int16Array]",or="[object Int32Array]",sr="[object Uint8Array]",hr="[object Uint8ClampedArray]",cr="[object Uint16Array]",lr="[object Uint32Array]",co=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,lo=/^\w*$/,ao=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,gu=/[.*+?^${}()|[\]\/\\]/g,vo=RegExp(gu.source),yo=/\\(\\)?/g,po=/\w*$/,wo=/^\[object .+?Constructor\]$/,bo=/^\d+$/,o={},e,oi,kr,g,gr,tu,ru,uu,fu,eu,ce,le,s,ge,lu,to;o[rr]=o[ur]=o[fr]=o[er]=o[or]=o[sr]=o[hr]=o[cr]=o[lr]=!0;o[ft]=o[st]=o[ir]=o[ni]=o[ti]=o[tr]=o[ht]=o[bu]=o[ct]=o[v]=o[ii]=o[ku]=o[lt]=o[du]=!1;e={};e[ft]=e[st]=e[ir]=e[ni]=e[ti]=e[rr]=e[ur]=e[fr]=e[er]=e[or]=e[ct]=e[v]=e[ii]=e[lt]=e[sr]=e[hr]=e[cr]=e[lr]=!0;e[tr]=e[ht]=e[bu]=e[ku]=e[du]=!1;var ri={"function":!0,object:!0},at=ri[typeof r]&&r&&!r.nodeType&&r,vt=ri[typeof i]&&i&&!i.nodeType&&i,ko=at&&vt&&typeof t=="object"&&t&&t.Object&&t,go=ri[typeof self]&&self&&self.Object&&self,nf=ri[typeof window]&&window&&window.Object&&window,ns=vt&&vt.exports===at&&at,y=ko||nf!==(this&&this.window)&&nf||go||this;var tf=Object.prototype,yr=(yr=y.window)?yr.document:null,rf=Function.prototype.toString,b=tf.hasOwnProperty,rs=0,h=tf.toString,us=RegExp("^"+ro(rf.call(b)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=l(y,"ArrayBuffer"),uf=l(pt&&new pt(0),"slice"),ff=Math.floor,fi=l(Object,"getPrototypeOf"),ef=l(y,"Set"),wt=l(y,"Uint8Array"),of=l(y,"WeakMap"),bt=function(){try{var n=l(y,"Float64Array"),t=new n(new pt(10),0,1)&&n}catch(i){}return t||null}(),sf=l(Object,"create"),fs=l(Array,"isArray"),hf=l(Object,"keys"),rt=Math.max,pr=Math.min,es=l(Date,"now"),os=Number.POSITIVE_INFINITY,cf=4294967295,ss=cf-1,hs=cf>>>1,lf=bt?bt.BYTES_PER_ELEMENT:0,af=9007199254740991,ei=of&&new of,cs={};oi=u.support={},function(n){var t=function(){this.x=n},u={"0":n,length:n},r=[],i;t.prototype={valueOf:n,y:n};for(i in new t)r.push(i);try{oi.dom=yr.createDocumentFragment().nodeType===11}catch(f){oi.dom=!1}}(1,0);kr=function(){function n(){}return function(t){if(a(t)){n.prototype=t;var i=new n;n.prototype=null}return i||{}}}();g=ah(df);gr=vh();tu=ei?function(n,t){return ei.set(n,t),n}:dt;uf||(iu=(pt&&wt)?function(n){var r=n.byteLength,t=bt?ff(r/lf):0,u=t*lf,f=new pt(r),i;return t&&(i=new bt(f,0,t),i.set(new bt(n,0,t))),r!=u&&(i=new wt(f,u),i.set(new wt(n,u))),f}:yu(null));ru=(sf&&ef)?function(n){return new vf(n)}:yu(null);uu=ei?function(n){return ei.get(n)}:fo;fu=ne("length");eu=function(){var n=0,t=0;return function(i,r){var u=we(),f=ho-(u-t);if(t=u,f>0){if(++n>=so)return i}else n=0;return tu(i,r)}}();ce=w(function(n,t){return nt(n)?bf(n,dr(t,!1,!0)):[]});le=w(function(n){for(var h=n.length,i=h,u=Array(l),f=ee(),a=f==ui,e=[],t,s;i--;)t=n[i]=nt(t=n[i])?t:[],u[i]=a&&t.length>=120?ru(i&&t):null;var o=n[0],c=-1,l=o?o.length:0,r=u[0];n:while(++c<l)if(t=o[c],(r?wr(r,t):f(e,t,0))<0){for(i=h;--i;)if(s=u[i],(s?wr(s,t):f(n[i],t,0))<0)continue n;r&&r.push(t);e.push(t)}return e});var ve=ph(g),ye=wh(br,g),vc=w(function(n,t,i){var u=-1,f=typeof t=="function",e=yi(t),r=nt(n)?Array(n.length):[];return g(n,function(n){var o=f?t:e&&n!=null?n[t]:null;r[++u]=o?o.apply(n,i):oc(n,t,i)}),r});var yc=ch(function(n,t,i){n[i?0:1].push(t)},function(){return[[],[]]}),cu=kh(ys,g),we=es||function(){return(new Date).getTime()},be=w(function(n,t,i){var r=k,u;return i.length&&(u=yt(i,be.placeholder),r|=it),fe(n,r,t,i,u)}),pc=w(function(n,t){return ds(n,1,t)}),wc=bh(it);s=fs||function(n){return c(n)&&ot(n.length)&&h.call(n)==st};oi.dom||(ke=function(n){return!!n&&n.nodeType===1&&c(n)&&!lu(n)});ge=(ar(/x/)||wt&&!ar(wt))?function(n){return h.call(n)==ht}:ar;lu=fi?function(n){if(!(n&&h.call(n)==v))return!1;var i=l(n,"valueOf"),t=i&&(t=fi(i))&&fi(t);return t?n==t||fi(n)==t:se(n)}:se;var vu=lh(function(n,t,i){return i?bs(n,t,i):pf(n,t)}),gc=w(function(n){var t=n[0];return t==null?t:(n.push(ws),vu.apply(f,n))}),tt=hf?function(n){var t=n==null?null:n.constructor;return typeof t=="function"&&t.prototype===n||typeof n!="function"&&nt(n)?he(n):a(n)?hf(n):[]}:he;to=w(function(n,t){var t,i;return n==null?{}:typeof t[0]!="function"?(t=yf(dr(t),String),cc(n,bf(wi(n),t))):(i=et(t[0],t[1],3),lc(n,function(n,t,r){return!i(n,t,r)}))});si.prototype=kr(ls.prototype);si.prototype.constructor=si;vf.prototype.push=as;u.assign=vu;u.bind=be;u.callback=bi;u.constant=yu;u.defaults=gc;u.defer=pc;u.difference=ce;u.forEach=ye;u.intersection=le;u.invoke=vc;u.keys=tt;u.keysIn=wi;u.map=pe;u.matches=uo;u.omit=to;u.pairs=io;u.partial=wc;u.partition=yc;u.property=eo;u.restParam=w;u.values=nl;u.collect=pe;u.each=ye;u.extend=vu;u.iteratee=bi;u.clone=bc;u.escapeRegExp=ro;u.every=ae;u.find=ve;u.identity=dt;u.indexOf=su;u.isArguments=pi;u.isArray=s;u.isElement=ke;u.isEqual=de;u.isFunction=ge;u.isNative=no;u.isNumber=kc;u.isObject=a;u.isPlainObject=lu;u.isString=dc;u.isTypedArray=au;u.last=hu;u.noop=fo;u.now=we;u.reduce=cu;u.uniqueId=tl;u.all=ae;u.eq=de;u.detect=ve;u.foldl=cu;u.inject=cu;u.VERSION="3.9.3";br(["bind","partial"],function(n){u[n].placeholder=u});typeof n=="function"&&typeof n.amd=="object"&&n.amd?(y._=u,n(function(){return u})):at&&vt?ns?(vt.exports=u)._=u:at._=u:y._=u}).call(this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(t,i,r){
/*!!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
!function(){function u(){this._events={};this._conf&&o.call(this,this._conf)}function o(n){n&&(this._conf=n,n.delimiter&&(this.delimiter=n.delimiter),n.maxListeners&&(this._events.maxListeners=n.maxListeners),n.wildcard&&(this.wildcard=n.wildcard),n.newListener&&(this.newListener=n.newListener),this.wildcard&&(this.listenerTree={}))}function t(n){this._events={};this.newListener=!1;o.call(this,n)}function i(n,t,r,u){if(!r)return[];var e=[],c,p,f,l,o,a,v,s=t.length,h=t[u],y=t[u+1];if(u===s&&r._listeners){if(typeof r._listeners=="function")return n&&n.push(r._listeners),[r];for(c=0,p=r._listeners.length;c<p;c++)n&&n.push(r._listeners[c]);return[r]}if(h==="*"||h==="**"||r[h]){if(h==="*"){for(f in r)f!=="_listeners"&&r.hasOwnProperty(f)&&(e=e.concat(i(n,t,r[f],u+1)));return e}if(h==="**"){v=u+1===s||u+2===s&&y==="*";v&&r._listeners&&(e=e.concat(i(n,t,r,s)));for(f in r)f!=="_listeners"&&r.hasOwnProperty(f)&&(f==="*"||f==="**"?(r[f]._listeners&&!v&&(e=e.concat(i(n,t,r[f],s))),e=e.concat(i(n,t,r[f],u))):e=f===y?e.concat(i(n,t,r[f],u+2)):e.concat(i(n,t,r[f],u)));return e}e=e.concat(i(n,t,r[h],u+1))}if(l=r["*"],l&&i(n,t,l,u+1),o=r["**"],o)if(u<s){o._listeners&&i(n,t,o,s);for(f in o)f!=="_listeners"&&o.hasOwnProperty(f)&&(f===y?i(n,t,o[f],u+2):f===h?i(n,t,o[f],u+1):(a={},a[f]=o[f],i(n,t,{"**":a},u+1)))}else o._listeners?i(n,t,o,s):o["*"]&&o["*"]._listeners&&i(n,t,o["*"],s);return e}function s(n,t){var u,s,i,r,o;for(n=typeof n=="string"?n.split(this.delimiter):n.slice(),u=0,s=n.length;u+1<s;u++)if(n[u]==="**"&&n[u+1]==="**")return;for(i=this.listenerTree,r=n.shift();r;){if(i[r]||(i[r]={}),i=i[r],n.length===0)return i._listeners?typeof i._listeners=="function"?i._listeners=[i._listeners,t]:f(i._listeners)&&(i._listeners.push(t),i._listeners.warned||(o=e,typeof this._events.maxListeners!="undefined"&&(o=this._events.maxListeners),o>0&&i._listeners.length>o&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace()))):i._listeners=t,!0;r=n.shift()}return!0}var f=Array.isArray?Array.isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},e=10;t.prototype.delimiter=".";t.prototype.setMaxListeners=function(n){this._events||u.call(this);this._events.maxListeners=n;this._conf||(this._conf={});this._conf.maxListeners=n};t.prototype.event="";t.prototype.once=function(n,t){return this.many(n,1,t),this};t.prototype.many=function(n,t,i){function r(){--t==0&&u.off(n,r);i.apply(this,arguments)}var u=this;if(typeof i!="function")throw new Error("many only accepts instances of Function");r._origin=i;this.on(n,r);return u};t.prototype.emit=function(){var r,f,s,e,o,n,t;if(this._events||u.call(this),r=arguments[0],r==="newListener"&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(t=arguments.length,e=new Array(t-1),n=1;n<t;n++)e[n-1]=arguments[n];for(n=0,t=this._all.length;n<t;n++)this.event=r,this._all[n].apply(this,e)}if(r==="error"&&!this._all&&!this._events.error&&!(this.wildcard&&this.listenerTree.error)){if(arguments[1]instanceof Error)throw arguments[1];else throw new Error("Uncaught, unspecified 'error' event.");return!1}if(this.wildcard?(f=[],s=typeof r=="string"?r.split(this.delimiter):r.slice(),i.call(this,f,s,this.listenerTree,0)):f=this._events[r],typeof f=="function"){if(this.event=r,arguments.length===1)f.call(this);else if(arguments.length>1)switch(arguments.length){case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:for(t=arguments.length,e=new Array(t-1),n=1;n<t;n++)e[n-1]=arguments[n];f.apply(this,e)}return!0}if(f){for(t=arguments.length,e=new Array(t-1),n=1;n<t;n++)e[n-1]=arguments[n];for(o=f.slice(),n=0,t=o.length;n<t;n++)this.event=r,o[n].apply(this,e);return o.length>0||!!this._all}return!!this._all};t.prototype.on=function(n,t){if(typeof n=="function"){this.onAny(n);return this}if(typeof t!="function")throw new Error("on only accepts instances of Function");if(this._events||u.call(this),this.emit("newListener",n,t),this.wildcard)return s.call(this,n,t),this;if(this._events[n]){if(typeof this._events[n]=="function")this._events[n]=[this._events[n],t];else if(f(this._events[n])&&(this._events[n].push(t),!this._events[n].warned)){var i=e;typeof this._events.maxListeners!="undefined"&&(i=this._events.maxListeners);i>0&&this._events[n].length>i&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),console.trace())}}else this._events[n]=t;return this};t.prototype.onAny=function(n){if(typeof n!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(n),this};t.prototype.addListener=t.prototype.on;t.prototype.off=function(n,t){var r,e,c,h,o,s,u,l;if(typeof t!="function")throw new Error("removeListener only takes instances of Function");if(e=[],this.wildcard)c=typeof n=="string"?n.split(this.delimiter):n.slice(),e=i.call(this,null,c,this.listenerTree,0);else{if(!this._events[n])return this;r=this._events[n];e.push({_listeners:r})}for(h=0;h<e.length;h++){if(o=e[h],r=o._listeners,f(r)){for(s=-1,u=0,l=r.length;u<l;u++)if(r[u]===t||r[u].listener&&r[u].listener===t||r[u]._origin&&r[u]._origin===t){s=u;break}if(s<0)continue;return this.wildcard?o._listeners.splice(s,1):this._events[n].splice(s,1),r.length===0&&(this.wildcard?delete o._listeners:delete this._events[n]),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[n])}return this};t.prototype.offAny=function(n){var t=0,r=0,i;if(n&&this._all&&this._all.length>0){for(i=this._all,t=0,r=i.length;t<r;t++)if(n===i[t])return i.splice(t,1),this}else this._all=[];return this};t.prototype.removeListener=t.prototype.off;t.prototype.removeAllListeners=function(n){var f,r,t,e;if(arguments.length===0)return this._events&&u.call(this),this;if(this.wildcard)for(f=typeof n=="string"?n.split(this.delimiter):n.slice(),r=i.call(this,null,f,this.listenerTree,0),t=0;t<r.length;t++)e=r[t],e._listeners=null;else{if(!this._events[n])return this;this._events[n]=null}return this};t.prototype.listeners=function(n){if(this.wildcard){var t=[],r=typeof n=="string"?n.split(this.delimiter):n.slice();return i.call(this,t,r,this.listenerTree,0),t}return this._events||u.call(this),this._events[n]||(this._events[n]=[]),f(this._events[n])||(this._events[n]=[this._events[n]]),this._events[n]};t.prototype.listenersAny=function(){return this._all?this._all:[]};typeof n=="function"&&n.amd?n(function(){return t}):typeof r=="object"?r.EventEmitter2=t:window.EventEmitter2=t}()},{}],3:[function(n,t){var f=n("fast-diff"),i=n("./is"),u=n("./op"),e=String.fromCharCode(0),r=function(n){this.ops=i.array(n)?n:i.object(n)&&i.array(n.ops)?n.ops:[]};r.prototype.insert=function(n,t){var r={};return n.length===0?this:(r.insert=n,i.object(t)&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))};r.prototype["delete"]=function(n){return n<=0?this:this.push({"delete":n})};r.prototype.retain=function(n,t){if(n<=0)return this;var r={retain:n};return i.object(t)&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)};r.prototype.push=function(n){var r=this.ops.length,t=this.ops[r-1];if(n=u.clone(n),i.object(t)){if(i.number(n["delete"])&&i.number(t["delete"]))return this.ops[r-1]={"delete":t["delete"]+n["delete"]},this;if(i.number(t["delete"])&&n.insert!=null&&(r-=1,t=this.ops[r-1],!i.object(t)))return this.ops.unshift(n),this;if(i.equal(n.attributes,t.attributes)){if(i.string(n.insert)&&i.string(t.insert))return this.ops[r-1]={insert:t.insert+n.insert},i.object(n.attributes)&&(this.ops[r-1].attributes=n.attributes),this;if(i.number(n.retain)&&i.number(t.retain))return this.ops[r-1]={retain:t.retain+n.retain},i.object(n.attributes)&&(this.ops[r-1].attributes=n.attributes),this}}return r===this.ops.length?this.ops.push(n):this.ops.splice(r,0,n),this};r.prototype.chop=function(){var n=this.ops[this.ops.length-1];return n&&n.retain&&!n.attributes&&this.ops.pop(),this};r.prototype.length=function(){return this.ops.reduce(function(n,t){return n+u.length(t)},0)};r.prototype.slice=function(n,t){var e;n=n||0;i.number(t)||(t=Infinity);for(var s=new r,o=u.iterator(this.ops),f=0;f<t&&o.hasNext();)f<n?e=o.next(n-f):(e=o.next(t-f),s.push(e)),f+=u.length(e);return s};r.prototype.compose=function(n){for(var t=u.iterator(this.ops),f=u.iterator(n.ops),e=new r,s,l;t.hasNext()||f.hasNext();)if(f.peekType()==="insert")e.push(f.next());else if(t.peekType()==="delete")e.push(t.next());else{var c=Math.min(t.peekLength(),f.peekLength()),o=t.next(c),h=f.next(c);i.number(h.retain)?(s={},i.number(o.retain)?s.retain=c:s.insert=o.insert,l=u.attributes.compose(o.attributes,h.attributes,i.number(o.retain)),l&&(s.attributes=l),e.push(s)):i.number(h["delete"])&&i.number(o.retain)&&e.push(h)}return e.chop()};r.prototype.concat=function(n){var t=this.slice();return n.ops.length>0&&(t.push(n.ops[0]),t.ops=t.ops.concat(n.ops.slice(1))),t};r.prototype.diff=function(n){var t=new r;if(this.ops===n.ops)return t;var h=[this.ops,n.ops].map(function(t){return t.map(function(r){if(r.insert!=null)return i.string(r.insert)?r.insert:e;var u=t===n.ops?"on":"with";throw new Error("diff() called "+u+" non-document");}).join("")}),c=f(h[0],h[1]),o=u.iterator(this.ops),s=u.iterator(n.ops);return c.forEach(function(n){for(var e=n[1].length,r,c,h;e>0;){r=0;switch(n[0]){case f.INSERT:r=Math.min(s.peekLength(),e);t.push(s.next(r));break;case f.DELETE:r=Math.min(e,o.peekLength());o.next(r);t["delete"](r);break;case f.EQUAL:r=Math.min(o.peekLength(),s.peekLength(),e);c=o.next(r);h=s.next(r);i.equal(c.insert,h.insert)?t.retain(r,u.attributes.diff(c.attributes,h.attributes)):t.push(h)["delete"](r)}e-=r}}),t.chop()};r.prototype.transform=function(n,t){if(t=!!t,i.number(n))return this.transformPosition(n,t);for(var e=u.iterator(this.ops),f=u.iterator(n.ops),o=new r;e.hasNext()||f.hasNext();)if(e.peekType()==="insert"&&(t||f.peekType()!=="insert"))o.retain(u.length(e.next()));else if(f.peekType()==="insert")o.push(f.next());else{var s=Math.min(e.peekLength(),f.peekLength()),c=e.next(s),h=f.next(s);if(c["delete"])continue;else h["delete"]?o.push(h):o.retain(s,u.attributes.transform(c.attributes,h.attributes,t))}return o.chop()};r.prototype.transformPosition=function(n,t){var i,r,f,e;for(t=!!t,i=u.iterator(this.ops),r=0;i.hasNext()&&r<=n;){if(f=i.peekLength(),e=i.peekType(),i.next(),e==="delete"){n-=Math.min(f,n-r);continue}else e==="insert"&&(r<n||!t)&&(n+=f);r+=f}return n};t.exports=r},{"./is":4,"./op":5,"fast-diff":6}],4:[function(n,t){t.exports={equal:function(n,t){if(n===t||n==null&&t==null)return!0;if(n==null||t==null||!this.object(n)||!this.object(t)||Object.keys(n).length!=Object.keys(t).length)return!1;for(var i in n)if(n[i]!==t[i])return!1;return!0},array:function(n){return Array.isArray(n)},number:function(n){return typeof n=="number"?!0:typeof n=="object"&&Object.prototype.toString.call(n)==="[object Number]"?!0:!1},object:function(n){return n?typeof n=="function"||typeof n=="object":!1},string:function(n){return typeof n=="string"?!0:typeof n=="object"&&Object.prototype.toString.call(n)==="[object String]"?!0:!1}}},{}],5:[function(n,t){function r(n){this.ops=n;this.index=0;this.offset=0}var i=n("./is"),u={attributes:{clone:function(n,t){return i.object(n)?Object.keys(n).reduce(function(i,r){return n[r]!==undefined&&(n[r]!==null||t)&&(i[r]=n[r]),i},{}):{}},compose:function(n,t,r){var f,u;i.object(n)||(n={});i.object(t)||(t={});f=this.clone(t,r);for(u in n)n[u]!==undefined&&t[u]===undefined&&(f[u]=n[u]);return Object.keys(f).length>0?f:undefined},diff:function(n,t){i.object(n)||(n={});i.object(t)||(t={});var r=Object.keys(n).concat(Object.keys(t)).reduce(function(i,r){return n[r]!==t[r]&&(i[r]=t[r]===undefined?null:t[r]),i},{});return Object.keys(r).length>0?r:undefined},transform:function(n,t,r){if(!i.object(n))return t;if(!i.object(t))return undefined;if(!r)return t;var u=Object.keys(t).reduce(function(i,r){return n[r]===undefined&&(i[r]=t[r]),i},{});return Object.keys(u).length>0?u:undefined}},clone:function(n){var t=this.attributes.clone(n);return i.object(t.attributes)&&(t.attributes=this.attributes.clone(t.attributes,!0)),t},iterator:function(n){return new r(n)},length:function(n){return i.number(n["delete"])?n["delete"]:i.number(n.retain)?n.retain:i.string(n.insert)?n.insert.length:1}};r.prototype.hasNext=function(){return this.peekLength()<Infinity};r.prototype.next=function(n){var t,f,e,r;return n||(n=Infinity),t=this.ops[this.index],t?(f=this.offset,e=u.length(t),n>=e-f?(n=e-f,this.index+=1,this.offset=0):this.offset+=n,i.number(t["delete"])?{"delete":n}:(r={},t.attributes&&(r.attributes=t.attributes),i.number(t.retain)?r.retain=n:r.insert=i.string(t.insert)?t.insert.substr(f,n):t.insert,r)):{retain:Infinity}};r.prototype.peekLength=function(){return this.ops[this.index]?u.length(this.ops[this.index])-this.offset:Infinity};r.prototype.peekType=function(){return this.ops[this.index]?i.number(this.ops[this.index]["delete"])?"delete":i.number(this.ops[this.index].retain)?"retain":"insert":"retain"};t.exports=u},{"./is":4}],6:[function(n,t){function f(n,t){var r,f,e,u;return n==t?n?[[i,n]]:[]:(r=o(n,t),f=n.substring(0,r),n=n.substring(r),t=t.substring(r),r=s(n,t),e=n.substring(n.length-r),n=n.substring(0,n.length-r),t=t.substring(0,t.length-r),u=l(n,t),f&&u.unshift([i,f]),e&&u.push([i,e]),c(u),u)}function l(n,t){var o,e;if(!n)return[[r,t]];if(!t)return[[u,n]];var h=n.length>t.length?n:t,s=n.length>t.length?t:n,c=h.indexOf(s);if(c!=-1)return o=[[r,h.substring(0,c)],[i,s],[r,h.substring(c+s.length)]],n.length>t.length&&(o[0][0]=o[2][0]=u),o;if(s.length==1)return[[u,n],[r,t]];if(e=v(n,t),e){var l=e[0],y=e[1],p=e[2],w=e[3],b=e[4],k=f(l,p),d=f(y,w);return k.concat([[i,b]],d)}return a(n,t)}function a(n,t){for(var o,v,p,s,e,d,f,i,y,c=n.length,w=t.length,nt=Math.ceil((c+w)/2),b=nt,k=2*nt,l=new Array(k),a=new Array(k),g=0;g<k;g++)l[g]=-1,a[g]=-1;l[b+1]=0;a[b+1]=0;var tt=c-w,it=tt%2!=0,rt=0,ut=0,ft=0,et=0;for(o=0;o<nt;o++){for(v=-o+rt;v<=o-ut;v+=2){for(f=b+v,i=v==-o||v!=o&&l[f-1]<l[f+1]?l[f+1]:l[f-1]+1,y=i-v;i<c&&y<w&&n.charAt(i)==t.charAt(y);)i++,y++;if(l[f]=i,i>c)ut+=2;else if(y>w)rt+=2;else if(it&&(s=b+tt-v,s>=0&&s<k&&a[s]!=-1&&(e=c-a[s],i>=e)))return h(n,t,i,y)}for(p=-o+ft;p<=o-et;p+=2){for(s=b+p,e=p==-o||p!=o&&a[s-1]<a[s+1]?a[s+1]:a[s-1]+1,d=e-p;e<c&&d<w&&n.charAt(c-e-1)==t.charAt(w-d-1);)e++,d++;if(a[s]=e,e>c)et+=2;else if(d>w)ft+=2;else if(!it&&(f=b+tt-p,f>=0&&f<k&&l[f]!=-1&&(i=l[f],y=b+i-f,e=c-e,i>=e)))return h(n,t,i,y)}}return[[u,n],[r,t]]}function h(n,t,i,r){var u=n.substring(0,i),e=t.substring(0,r),o=n.substring(i),s=t.substring(r),h=f(u,e),c=f(o,s);return h.concat(c)}function o(n,t){if(!n||!t||n.charAt(0)!=t.charAt(0))return 0;for(var r=0,u=Math.min(n.length,t.length),i=u,f=0;r<i;)n.substring(f,i)==t.substring(f,i)?(r=i,f=r):u=i,i=Math.floor((u-r)/2+r);return i}function s(n,t){if(!n||!t||n.charAt(n.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,u=Math.min(n.length,t.length),i=u,f=0;r<i;)n.substring(n.length-i,n.length-f)==t.substring(t.length-i,t.length-f)?(r=i,f=r):u=i,i=Math.floor((u-r)/2+r);return i}function v(n,t){function v(n,t,i){for(var v=n.substring(i,i+Math.floor(n.length/4)),r=-1,e="",h,c,l,a,u,f;(r=t.indexOf(v,r+1))!=-1;)u=o(n.substring(i),t.substring(r)),f=s(n.substring(0,i),t.substring(0,r)),e.length<f+u&&(e=t.substring(r-f,r)+t.substring(r,r+u),h=n.substring(0,i-f),c=n.substring(i+u),l=t.substring(0,r-f),a=t.substring(r+u));return e.length*2>=n.length?[h,c,l,a,e]:null}var r=n.length>t.length?n:t,e=n.length>t.length?t:n,u,f,i,h,c,l,a,y;if(r.length<4||e.length*2<r.length)return null;if(u=v(r,e,Math.ceil(r.length/4)),f=v(r,e,Math.ceil(r.length/2)),u||f)i=f?u?u[4].length>f[4].length?u:f:f:u;else return null;return n.length>t.length?(h=i[0],c=i[1],l=i[2],a=i[3]):(l=i[0],a=i[1],h=i[2],c=i[3]),y=i[4],[h,c,l,a,y]}function c(n){var v;n.push([i,""]);for(var t=0,f=0,e=0,l="",h="",a;t<n.length;)switch(n[t][0]){case r:e++;h+=n[t][1];t++;break;case u:f++;l+=n[t][1];t++;break;case i:f+e>1?(f!==0&&e!==0&&(a=o(h,l),a!==0&&(t-f-e>0&&n[t-f-e-1][0]==i?n[t-f-e-1][1]+=h.substring(0,a):(n.splice(0,0,[i,h.substring(0,a)]),t++),h=h.substring(a),l=l.substring(a)),a=s(h,l),a!==0&&(n[t][1]=h.substring(h.length-a)+n[t][1],h=h.substring(0,h.length-a),l=l.substring(0,l.length-a))),f===0?n.splice(t-e,f+e,[r,h]):e===0?n.splice(t-f,f+e,[u,l]):n.splice(t-f-e,f+e,[u,l],[r,h]),t=t-f-e+(f?1:0)+(e?1:0)+1):t!==0&&n[t-1][0]==i?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++;e=0;f=0;l="";h=""}for(n[n.length-1][1]===""&&n.pop(),v=!1,t=1;t<n.length-1;)n[t-1][0]==i&&n[t+1][0]==i&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)==n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),v=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),v=!0)),t++;v&&c(n)}var u=-1,r=1,i=0,e=f;e.INSERT=r;e.DELETE=u;e.EQUAL=i;t.exports=e},{}],7:[function(n,t){t.exports={version:"0.20.1"}},{}],8:[function(n,t){var o,s,f,e,h,u,r,i;r=n("lodash");o=n("rich-text/lib/delta");i=n("../lib/dom");f=n("./format");e=n("./line");h=n("../lib/linked-list");u=n("./normalizer");s=function(){function n(n,t){this.root=n;t==null&&(t={});this.normalizer=new u;this.formats={};r.each(t.formats,r.bind(this.addFormat,this));this.setHTML(this.root.innerHTML)}return n.prototype.addFormat=function(n,t){return r.isObject(t)||(t=f.FORMATS[n]),this.formats[n]!=null&&console.warn("Overwriting format",n,this.formats[n]),this.formats[n]=new f(t),this.normalizer.addFormat(t)},n.prototype.appendLine=function(n){return this.insertLineBefore(n,null)},n.prototype.findLeafAt=function(n,t){var i,r,u;return u=this.findLineAt(n),i=u[0],r=u[1],i!=null?i.findLeafAt(r,t):[void 0,r]},n.prototype.findLine=function(n){for(var t;n!=null&&i.BLOCK_TAGS[n.tagName]==null;)n=n.parentNode;return t=n!=null?i(n).data(e.DATA_KEY):void 0,(t!=null?t.node:void 0)===n?t:void 0},n.prototype.findLineAt=function(n){var t,i;if(!(this.lines.length>0))return[void 0,n];if(i=this.toDelta().length(),n===i)return[this.lines.last,this.lines.last.length];if(n>i)return[void 0,n-i];for(t=this.lines.first;t!=null;){if(n<t.length)return[t,n];n-=t.length;t=t.next}return[void 0,n]},n.prototype.getHTML=function(){return this.root.innerHTML.replace(/\>\s+\</g,">&nbsp;<")},n.prototype.insertLineBefore=function(n,t){var r;return r=new e(this,n),t!=null?(i(n.parentNode).isElement()||this.root.insertBefore(n,t.node),this.lines.insertAfter(t.prev,r)):(i(n.parentNode).isElement()||this.root.appendChild(n),this.lines.append(r)),r},n.prototype.mergeLines=function(n,t){return t.length>1&&(n.length===1&&i(n.leaves.last.node).remove(),r.each(i(t.node).childNodes(),function(t){if(t.tagName!==i.DEFAULT_BREAK_TAG)return n.node.appendChild(t)})),this.removeLine(t),n.rebuild()},n.prototype.optimizeLines=function(){return r.each(this.lines.toArray(),function(n){return n.optimize(),!0})},n.prototype.rebuild=function(){var n,u,t;for(u=this.lines.toArray(),n=this.root.firstChild,n!=null&&i.LIST_TAGS[n.tagName]!=null&&(n=n.firstChild),r.each(u,function(t){return function(r){for(var f,u;r.node!==n;)if(r.node.parentNode===t.root||((u=r.node.parentNode)!=null?u.parentNode:void 0)===t.root)n=t.normalizer.normalizeLine(n),f=t.insertLineBefore(n,r),n=i(n).nextLineNode(t.root);else return t.removeLine(r);return r.outerHTML!==n.outerHTML&&(r.node=t.normalizer.normalizeLine(r.node),r.rebuild()),n=i(n).nextLineNode(t.root)}}(this)),t=[];n!=null;)n=this.normalizer.normalizeLine(n),this.appendLine(n),t.push(n=i(n).nextLineNode(this.root));return t},n.prototype.removeLine=function(n){return n.node.parentNode!=null&&(i.LIST_TAGS[n.node.parentNode.tagName]&&n.node.parentNode.childNodes.length===1?i(n.node.parentNode).remove():i(n.node).remove()),this.lines.remove(n)},n.prototype.setHTML=function(n){return n=u.stripComments(n),n=u.stripWhitespace(n),this.root.innerHTML=n,this.lines=new h,this.rebuild()},n.prototype.splitLine=function(n,t){var e,o,u,f;return t=Math.min(t,n.length-1),f=i(n.node).split(t,!0),e=f[0],o=f[1],n.node=e,n.rebuild(),u=this.insertLineBefore(o,n.next),u.formats=r.clone(n.formats),u.resetContent(),u},n.prototype.toDelta=function(){var n,t;return t=this.lines.toArray(),n=new o,r.each(t,function(t){return r.each(t.delta.ops,function(t){return n.push(t)})}),n},n}();t.exports=s},{"../lib/dom":17,"../lib/linked-list":18,"./format":10,"./line":12,"./normalizer":13,lodash:1,"rich-text/lib/delta":3}],9:[function(n,t){var o,u,f,s,e,i,r;i=n("lodash");o=n("rich-text/lib/delta");r=n("../lib/dom");u=n("./document");s=n("./line");e=n("./selection");f=function(){function n(n,t,r){this.root=n;this.quill=t;this.options=r!=null?r:{};this.root.setAttribute("id",this.options.id);this.doc=new u(this.root,this.options);this.delta=this.doc.toDelta();this.length=this.delta.length();this.selection=new e(this.doc,this.quill);this.timer=setInterval(i.bind(this.checkUpdate,this),this.options.pollInterval);this.savedRange=null;this.quill.on("selection-change",function(n){return function(t){return n.savedRange=t}}(this));this.options.readOnly||this.enable()}return n.sources={API:"api",SILENT:"silent",USER:"user"},n.prototype.destroy=function(){return clearInterval(this.timer)},n.prototype.disable=function(){return this.enable(!1)},n.prototype.enable=function(n){return n==null&&(n=!0),this.root.setAttribute("contenteditable",n)},n.prototype.applyDelta=function(t,r){var u;return u=this._update(),u&&(t=u.transform(t,!0),u=t.transform(u,!1)),t.ops.length>0&&(t=this._trackDelta(function(n){return function(){var r;return r=0,i.each(t.ops,function(t){return i.isString(t.insert)?(n._insertAt(r,t.insert,t.attributes),r+=t.insert.length):i.isNumber(t.insert)?(n._insertEmbed(r,t.attributes),r+=1):i.isNumber(t["delete"])?n._deleteAt(r,t["delete"]):i.isNumber(t.retain)?(i.each(t.attributes,function(i,u){return n._formatAt(r,t.retain,u,i)}),r+=t.retain):void 0}),n.selection.shiftAfter(0,0,i.bind(n.doc.optimizeLines,n.doc))}}(this)),this.delta=this.doc.toDelta(),this.length=this.delta.length(),this.innerHTML=this.root.innerHTML,t&&r!==n.sources.SILENT&&this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,t,r)),u&&u.ops.length>0&&r!==n.sources.SILENT?this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,u,n.sources.USER):void 0},n.prototype.checkUpdate=function(t){var i;return(t==null&&(t="user"),this.root.parentNode==null)?clearInterval(this.timer):(i=this._update(),i&&(this.delta=this.delta.compose(i),this.length=this.delta.length(),this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,i,t)),i&&(t=n.sources.SILENT),this.selection.update(t))},n.prototype.focus=function(){return this.selection.range!=null?this.selection.setRange(this.selection.range):this.root.focus()},n.prototype.getBounds=function(n){var u,o,t,i,f,s,e;return(this.checkUpdate(),s=this.doc.findLeafAt(n,!0),t=s[0],i=s[1],t==null)?null:(o=this.root.parentNode.getBoundingClientRect(),e="left",t.length===0?u=t.node.parentNode.getBoundingClientRect():r.VOID_TAGS[t.node.tagName]?(u=t.node.getBoundingClientRect(),i===1&&(e="right")):(f=document.createRange(),i<t.length?(f.setStart(t.node,i),f.setEnd(t.node,i+1)):(f.setStart(t.node,i-1),f.setEnd(t.node,i),e="right"),u=f.getBoundingClientRect()),{height:u.height,left:u[e]-o.left,top:u.top-o.top})},n.prototype._deleteAt=function(n,t){if(!(t<=0))return this.selection.shiftAfter(n,-1*t,function(i){return function(){var r,e,f,s,h,u,o;for(o=i.doc.findLineAt(n),f=o[0],u=o[1],r=f,s=f.length-u<=t&&u>0;r!=null&&t>0;)h=r.next,e=Math.min(r.length-u,t),u===0&&t>=r.length?i.doc.removeLine(r):r.deleteText(u,e),t-=e,r=h,u=0;if(s&&f.next)return i.doc.mergeLines(f,f.next)}}(this))},n.prototype._formatAt=function(n,t,i,r){return this.selection.shiftAfter(n,0,function(u){return function(){var o,f,e,s,h;for(s=u.doc.findLineAt(n),f=s[0],e=s[1],h=[];f!=null&&t>0;)o=Math.min(t,f.length-e-1),f.formatText(e,o,i,r),t-=o,t>0&&f.format(i,r),t-=1,e=0,h.push(f=f.next);return h}}(this))},n.prototype._insertEmbed=function(n,t){return this.selection.shiftAfter(n,1,function(i){return function(){var u,f,r;return r=i.doc.findLineAt(n),u=r[0],f=r[1],u.insertEmbed(f,t)}}(this))},n.prototype._insertAt=function(n,t,u){return u==null&&(u={}),this.selection.shiftAfter(n,t.length,function(f){return function(){var e,s,o,h;return t=t.replace(/\r\n?/g,"\n"),s=t.split("\n"),h=f.doc.findLineAt(n),e=h[0],o=h[1],i.each(s,function(n,t){var h;return e==null||e.length<=o?(t<s.length-1||n.length>0)&&(e=f.doc.appendLine(document.createElement(r.DEFAULT_BLOCK_TAG)),o=0,e.insertText(o,n,u),e.format(u),h=null):(e.insertText(o,n,u),t<s.length-1&&(h=f.doc.splitLine(e,o+n.length),i.each(i.defaults({},u,e.formats),function(n,t){return e.format(t,u[t])}),o=0)),e=h})}}(this))},n.prototype._trackDelta=function(n){var l,t,r,f,e,u,o,s,h,c;u=(h=this.savedRange)!=null?h.start:void 0;n();t=this.doc.toDelta();this.savedRange=this.selection.getRange();r=(c=this.savedRange)!=null?c.start:void 0;try{if(u!=null&&r!=null&&u<=this.delta.length()&&r<=t.length()&&(s=this.delta.slice(u),e=t.slice(r),i.isEqual(s.ops,e.ops)))return o=this.delta.slice(0,u),f=t.slice(0,r),o.diff(f)}catch(a){l=a}return this.delta.diff(t)},n.prototype._update=function(){var n;return this.innerHTML===this.root.innerHTML?!1:(n=this._trackDelta(function(n){return function(){return n.selection.preserve(i.bind(n.doc.rebuild,n.doc)),n.selection.shiftAfter(0,0,i.bind(n.doc.optimizeLines,n.doc))}}(this)),this.innerHTML=this.root.innerHTML,n.ops.length>0?n:!1)},n}();t.exports=f},{"../lib/dom":17,"./document":8,"./line":12,"./selection":14,lodash:1,"rich-text/lib/delta":3}],10:[function(n,t){var u,i,r;i=n("lodash");r=n("../lib/dom");u=function(){function n(n){this.config=n}return n.types={LINE:"line",EMBED:"embed"},n.FORMATS={bold:{tag:"B",prepare:"bold"},italic:{tag:"I",prepare:"italic"},underline:{tag:"U",prepare:"underline"},strike:{tag:"S",prepare:"strikeThrough"},color:{style:"color","default":"rgb(0, 0, 0)",prepare:"foreColor"},background:{style:"backgroundColor","default":"rgb(255, 255, 255)",prepare:"backColor"},font:{style:"fontFamily","default":"'Helvetica', 'Arial', sans-serif",prepare:"fontName"},size:{style:"fontSize","default":"13px",prepare:function(n){return document.execCommand("fontSize",!1,r.convertFontSize(n))}},link:{tag:"A",add:function(n,t){return n.setAttribute("href",t),n},remove:function(n){return n.removeAttribute("href"),n},value:function(n){return n.getAttribute("href")}},image:{type:n.types.EMBED,tag:"IMG",attribute:"src"},align:{type:n.types.LINE,style:"textAlign","default":"left"},bullet:{type:n.types.LINE,exclude:"list",parentTag:"UL",tag:"LI"},list:{type:n.types.LINE,exclude:"bullet",parentTag:"OL",tag:"LI"}},n.prototype.add=function(t,u){var f,o,e,s,h;return u?this.value(t)===u?t:(i.isString(this.config.parentTag)&&(e=t.parentNode,e.tagName!==this.config.parentTag&&(e=document.createElement(this.config.parentTag),r(t).wrap(e)),t.parentNode.tagName===((s=t.parentNode.previousSibling)!=null?s.tagName:void 0)&&r(t.parentNode.previousSibling).merge(t.parentNode),t.parentNode.tagName===((h=t.parentNode.nextSibling)!=null?h.tagName:void 0)&&r(t.parentNode).merge(t.parentNode.nextSibling)),i.isString(this.config.tag)&&t.tagName!==this.config.tag&&(f=document.createElement(this.config.tag),r.VOID_TAGS[f.tagName]!=null?(t.parentNode!=null&&r(t).replace(f),t=f):this.isType(n.types.LINE)?t=r(t).switchTag(this.config.tag).get():(r(t).wrap(f),t=f)),(i.isString(this.config.style)||i.isString(this.config.attribute)||i.isString(this.config["class"]))&&(i.isString(this.config["class"])&&(t=this.remove(t)),r(t).isTextNode()&&(o=document.createElement(r.DEFAULT_INLINE_TAG),r(t).wrap(o),t=o),i.isString(this.config.style)&&u!==this.config["default"]&&(t.style[this.config.style]=u),i.isString(this.config.attribute)&&t.setAttribute(this.config.attribute,u),i.isString(this.config["class"])&&r(t).addClass(this.config["class"]+u)),i.isFunction(this.config.add)&&(t=this.config.add(t,u)),t):this.remove(t)},n.prototype.isType=function(n){return n===this.config.type},n.prototype.match=function(n){var f,t,e,o,u;if(!r(n).isElement()||i.isString(this.config.parentTag)&&((o=n.parentNode)!=null?o.tagName:void 0)!==this.config.parentTag||i.isString(this.config.tag)&&n.tagName!==this.config.tag||i.isString(this.config.style)&&(!n.style[this.config.style]||n.style[this.config.style]===this.config["default"])||i.isString(this.config.attribute)&&!n.hasAttribute(this.config.attribute))return!1;if(i.isString(this.config["class"])){for(u=r(n).classes(),t=0,e=u.length;t<e;t++)if(f=u[t],f.indexOf(this.config["class"])===0)return!0;return!1}return!0},n.prototype.prepare=function(n){return i.isString(this.config.prepare)?document.execCommand(this.config.prepare,!1,n):i.isFunction(this.config.prepare)?this.config.prepare(n):void 0},n.prototype.remove=function(t){var f,u,o,e;if(!this.match(t))return t;if(i.isString(this.config.style)&&(t.style[this.config.style]="",t.getAttribute("style")||t.removeAttribute("style")),i.isString(this.config.attribute)&&t.removeAttribute(this.config.attribute),i.isString(this.config["class"]))for(e=r(t).classes(),u=0,o=e.length;u<o;u++)f=e[u],f.indexOf(this.config["class"])===0&&r(t).removeClass(f);if(i.isString(this.config.tag))if(this.isType(n.types.LINE))i.isString(this.config.parentTag)&&(t.previousSibling!=null&&r(t).splitBefore(t.parentNode.parentNode),t.nextSibling!=null&&r(t.nextSibling).splitBefore(t.parentNode.parentNode)),t=r(t).switchTag(r.DEFAULT_BLOCK_TAG).get();else{if(this.isType(n.types.EMBED))return r(t).remove(),void 0;t=r(t).switchTag(r.DEFAULT_INLINE_TAG).get()}return i.isString(this.config.parentTag)&&r(t.parentNode).unwrap(),i.isFunction(this.config.remove)&&(t=this.config.remove(t)),t.tagName!==r.DEFAULT_INLINE_TAG||t.hasAttributes()||(t=r(t).unwrap()),t},n.prototype.value=function(n){var u,t,e,f;if(!this.match(n))return void 0;if(this.config.value)return this.config.value(n);if(i.isString(this.config.attribute))return n.getAttribute(this.config.attribute)||void 0;if(i.isString(this.config.style))return n.style[this.config.style]||void 0;if(i.isString(this.config["class"])){for(f=r(n).classes(),t=0,e=f.length;t<e;t++)if(u=f[t],u.indexOf(this.config["class"])===0)return u.slice(this.config["class"].length)}else if(i.isString(this.config.tag))return!0;return void 0},n}();t.exports=u},{"../lib/dom":17,lodash:1}],11:[function(n,t){var e,r,u,f,i,o=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},s={}.hasOwnProperty;f=n("lodash");i=n("../lib/dom");e=n("./format");u=n("../lib/linked-list");r=function(n){function t(n,r){this.node=n;this.formats=f.clone(r);this.text=i(this.node).text();this.length=this.text.length;i(this.node).data(t.DATA_KEY,this)}return o(t,n),t.DATA_KEY="leaf",t.isLeafNode=function(n){return i(n).isTextNode()||n.firstChild==null},t.prototype.deleteText=function(n,r){var u;if((r>0))return this.text=this.text.slice(0,n)+this.text.slice(n+r),this.length=this.text.length,i.EMBED_TAGS[this.node.tagName]!=null?(u=document.createTextNode(this.text),i(u).data(t.DATA_KEY,this),this.node=i(this.node).replace(u).get()):i(this.node).text(this.text)},t.prototype.insertText=function(n,r){var u;return this.text=this.text.slice(0,n)+r+this.text.slice(n),i(this.node).isTextNode()?i(this.node).text(this.text):(u=document.createTextNode(r),i(u).data(t.DATA_KEY,this),this.node.tagName===i.DEFAULT_BREAK_TAG?this.node=i(this.node).replace(u).get():(this.node.appendChild(u),this.node=u)),this.length=this.text.length},t}(u.Node);t.exports=r},{"../lib/dom":17,"../lib/linked-list":18,"./format":10,lodash:1}],12:[function(n,t){var s,u,f,e,o,h,r,i,c=function(n,t){function r(){this.constructor=n}for(var i in t)l.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},l={}.hasOwnProperty;r=n("lodash");s=n("rich-text/lib/delta");i=n("../lib/dom");u=n("./format");f=n("./leaf");e=n("./line");o=n("../lib/linked-list");h=n("./normalizer");e=function(n){function t(n,i){this.doc=n;this.node=i;this.formats={};this.rebuild();t.__super__.constructor.call(this,this.node)}return c(t,n),t.DATA_KEY="line",t.prototype.buildLeaves=function(n,t){return r.each(i(n).childNodes(),function(n){return function(i){var e;return i=n.doc.normalizer.normalizeNode(i),e=r.clone(t),r.each(n.doc.formats,function(n,t){if(!n.isType(u.types.LINE)&&n.match(i))return e[t]=n.value(i)}),f.isLeafNode(i)?n.leaves.append(new f(i,e)):n.buildLeaves(i,e)}}(this))},t.prototype.deleteText=function(n,t){var r,i,u;if(t>0){for(u=this.findLeafAt(n),i=u[0],n=u[1];i!=null&&t>0;)r=Math.min(t,i.length-n),i.deleteText(n,r),t-=r,i=i.next,n=0;return this.rebuild()}},t.prototype.findLeaf=function(n){if(n!=null)return i(n).data(f.DATA_KEY)},t.prototype.findLeafAt=function(n,t){var i;if(t==null&&(t=!1),n>=this.length-1)return[this.leaves.last,this.leaves.last.length];for(i=this.leaves.first;i!=null;){if(n<i.length||n===i.length&&t)return[i,n];n-=i.length;i=i.next}return[this.leaves.last,n-this.leaves.last.length]},t.prototype.format=function(n,t){var i;return r.isObject(n)?i=n:(i={},i[n]=t),r.each(i,function(n){return function(t,i){var f,r;if(r=n.doc.formats[i],r!=null)return r.isType(u.types.LINE)&&(r.config.exclude&&n.formats[r.config.exclude]&&(f=n.doc.formats[r.config.exclude],f!=null&&(n.node=f.remove(n.node),delete n.formats[r.config.exclude])),n.node=r.add(n.node,t)),t?n.formats[i]=t:delete n.formats[i]}}(this)),this.resetContent()},t.prototype.formatText=function(n,t,r,f){var h,e,s,y,v,c,l,a,p,o;if(c=this.findLeafAt(n),e=c[0],s=c[1],h=this.doc.formats[r],h!=null&&h.config.type!==u.types.LINE){while(e!=null&&t>0){if(v=e.next,f&&e.formats[r]!==f||!f&&e.formats[r]!=null){if(o=e.node,e.formats[r]!=null){for(i(o).splitBefore(this.node);!h.match(o);)o=o.parentNode;i(o).split(e.length)}s>0&&(l=i(o).split(s),y=l[0],o=l[1]);e.length>s+t&&(a=i(o).split(t),o=a[0],p=a[1]);h.add(o,f)}t-=e.length-s;s=0;e=v}return this.rebuild()}},t.prototype._insert=function(n,t,f){var h,c,e,l,o,s;return o=this.findLeafAt(n),h=o[0],c=o[1],t=r.reduce(f,function(n){return function(t,i,r){var f;return f=n.doc.formats[r],f==null||f.isType(u.types.LINE)||(t=f.add(t,i)),t}}(this),t),s=i(h.node).split(c),l=s[0],e=s[1],e&&(e=i(e).splitBefore(this.node).get()),this.node.insertBefore(t,e),this.rebuild()},t.prototype.insertEmbed=function(n,t){var f,s,h,l,c,a,e,o;return e=this.findLeafAt(n),s=e[0],h=e[1],o=i(s.node).split(h),a=o[0],l=o[1],f=r.find(Object.keys(t),function(n){return function(t){return n.doc.formats[t].isType(u.types.EMBED)}}(this)),c=this.doc.formats[f].add({},t[f]),t=r.clone(t),delete t[f],this._insert(n,c,t)},t.prototype.insertText=function(n,t,i){var u,e,f;if(i==null&&(i={}),t.length>0)return f=this.findLeafAt(n),u=f[0],e=f[1],r.isEqual(u.formats,i)?(u.insertText(e,t),this.resetContent()):this._insert(n,document.createTextNode(t),i)},t.prototype.optimize=function(){return h.optimizeLine(this.node),this.rebuild()},t.prototype.rebuild=function(n){return(n==null&&(n=!1),!n&&this.outerHTML!=null&&this.outerHTML===this.node.outerHTML&&r.all(this.leaves.toArray(),function(n){return function(t){return i(t.node).isAncestor(n.node)}}(this)))?!1:(this.node=this.doc.normalizer.normalizeNode(this.node),i(this.node).length()!==0||this.node.querySelector(i.DEFAULT_BREAK_TAG)||this.node.appendChild(document.createElement(i.DEFAULT_BREAK_TAG)),this.leaves=new o,this.formats=r.reduce(this.doc.formats,function(n){return function(t,i,r){return i.isType(u.types.LINE)&&(i.match(n.node)?t[r]=i.value(n.node):delete t[r]),t}}(this),this.formats),this.buildLeaves(this.node,{}),this.resetContent(),!0)},t.prototype.resetContent=function(){return i(this.node).data(t.DATA_KEY,this),this.outerHTML=this.node.outerHTML,this.length=1,this.delta=new s,r.each(this.leaves.toArray(),function(n){return function(t){return n.length+=t.length,i.EMBED_TAGS[t.node.tagName]!=null?n.delta.insert(1,t.formats):n.delta.insert(t.text,t.formats)}}(this)),this.delta.insert("\n",this.formats)},t}(o.Node);t.exports=e},{"../lib/dom":17,"../lib/linked-list":18,"./format":10,"./leaf":11,"./line":12,"./normalizer":13,lodash:1,"rich-text/lib/delta":3}],13:[function(n,t){var u,r,f,i;r=n("lodash");i=n("../lib/dom");f=function(n){return n=n.replace(/(?:^|[-_])(\w)/g,function(n,t){return t?t.toUpperCase():""}),n.charAt(0).toLowerCase()+n.slice(1)};u=function(){function n(){this.whitelist={styles:{},tags:{}};this.whitelist.tags[i.DEFAULT_BREAK_TAG]=!0;this.whitelist.tags[i.DEFAULT_BLOCK_TAG]=!0;this.whitelist.tags[i.DEFAULT_INLINE_TAG]=!0}return n.ALIASES={STRONG:"B",EM:"I",DEL:"S",STRIKE:"S"},n.ATTRIBUTES={color:"color",face:"fontFamily",size:"fontSize"},n.prototype.addFormat=function(n){return n.tag!=null&&(this.whitelist.tags[n.tag]=!0),n.parentTag!=null&&(this.whitelist.tags[n.parentTag]=!0),n.style!=null?this.whitelist.styles[n.style]=!0:void 0},n.prototype.normalizeLine=function(t){return t=n.wrapInline(t),t=n.handleBreaks(t),t.tagName==="LI"&&n.flattenList(t),t=n.pullBlocks(t),t=this.normalizeNode(t),n.unwrapText(t),t!=null&&i.LIST_TAGS[t.tagName]!=null&&(t=t.firstChild),t},n.prototype.normalizeNode=function(t){return i(t).isTextNode()?t:(r.each(n.ATTRIBUTES,function(n,r){var u;if(t.hasAttribute(r))return u=t.getAttribute(r),r==="size"&&(u=i.convertFontSize(u)),t.style[n]=u,t.removeAttribute(r)}),(t.style.fontWeight==="bold"||t.style.fontWeight>500)&&(t.style.fontWeight="",i(t).wrap(document.createElement("b")),t=t.parentNode),this.whitelistStyles(t),this.whitelistTags(t))},n.prototype.whitelistStyles=function(n){var u,t;return u=i(n).styles(),t=r.omit(u,function(n){return function(t,i){return n.whitelist.styles[f(i)]==null}}(this)),Object.keys(t).length<Object.keys(u).length?Object.keys(t).length>0?i(n).styles(t,!0):n.removeAttribute("style"):void 0},n.prototype.whitelistTags=function(t){return i(t).isElement()?(n.ALIASES[t.tagName]!=null?t=i(t).switchTag(n.ALIASES[t.tagName]).get():this.whitelist.tags[t.tagName]==null&&(t=i.BLOCK_TAGS[t.tagName]!=null?i(t).switchTag(i.DEFAULT_BLOCK_TAG).get():t.hasAttributes()||t.firstChild==null?i(t).switchTag(i.DEFAULT_INLINE_TAG).get():i(t).unwrap()),t):t},n.flattenList=function(n){var u,f,t;return t=n.nextSibling,u=r.map(n.querySelectorAll("li")),u.forEach(function(i){return n.parentNode.insertBefore(i,t),t=i.nextSibling}),f=r.map(n.querySelectorAll(Object.keys(i.LIST_TAGS).join(","))),f.forEach(function(n){return i(n).remove()})},n.handleBreaks=function(n){var t;return t=r.map(n.querySelectorAll(i.DEFAULT_BREAK_TAG)),r.each(t,function(){return function(t){if(t.nextSibling!=null&&(!i.isIE(10)||t.previousSibling!=null))return i(t.nextSibling).splitBefore(n.parentNode)}}(this)),n},n.optimizeLine=function(n){var e,t,f,u;for(n.normalize(),e=i(n).length(),f=i(n).descendants(),u=[];f.length>0;)(t=f.pop(),(t!=null?t.parentNode:void 0)!=null)&&i.EMBED_TAGS[t.tagName]==null&&(t.tagName===i.DEFAULT_BREAK_TAG?e!==0?u.push(i(t).remove()):u.push(void 0):i(t).length()===0?(f.push(t.nextSibling),u.push(i(t).unwrap())):t.previousSibling!=null&&t.tagName===t.previousSibling.tagName?r.isEqual(i(t).attributes(),i(t.previousSibling).attributes())?(f.push(t.firstChild),u.push(i(t.previousSibling).merge(t))):u.push(void 0):u.push(void 0));return u},n.pullBlocks=function(t){for(var r=t.firstChild;r!=null;){if(i.BLOCK_TAGS[r.tagName]!=null&&r.tagName!=="LI"){i(r).isolate(t.parentNode);i.LIST_TAGS[r.tagName]!=null&&r.firstChild?(i(r.parentNode).unwrap(),t.parentNode==null&&(t=r)):(i(r).unwrap(),n.pullBlocks(t));break}r=r.nextSibling}return t},n.stripComments=function(n){return n.replace(/<!--[\s\S]*?-->/g,"")},n.stripWhitespace=function(n){return n=n.trim(),n=n.replace(/(\r?\n|\r)+/g," "),n.replace(/\>\s+\</g,"><")},n.wrapInline=function(n){var t,r;if(i.BLOCK_TAGS[n.tagName]!=null)return n;for(t=document.createElement(i.DEFAULT_BLOCK_TAG),n.parentNode.insertBefore(t,n);n!=null&&i.BLOCK_TAGS[n.tagName]==null;)r=n.nextSibling,t.appendChild(n),n=r;return t},n.unwrapText=function(n){var t;return t=r.map(n.querySelectorAll(i.DEFAULT_INLINE_TAG)),r.each(t,function(n){if(!n.hasAttributes())return i(n).unwrap()})},n}();t.exports=u},{"../lib/dom":17,lodash:1}],14:[function(n,t){var f,e,r,u,o,i;o=n("lodash");i=n("../lib/dom");f=n("./leaf");e=n("./normalizer");r=n("../lib/range");u=function(){function n(n,t){this.doc=n;this.emitter=t;this.focus=!1;this.range=new r(0,0);this.nullDelay=!1;this.update("silent")}return n.prototype.checkFocus=function(){return document.activeElement===this.doc.root},n.prototype.getRange=function(n){var u,t,i;return n==null&&(n=!1),this.checkFocus()?(t=this._getNativeRange(),t==null)?null:(i=this._positionToIndex(t.startContainer,t.startOffset),u=t.startContainer===t.endContainer&&t.startOffset===t.endOffset?i:this._positionToIndex(t.endContainer,t.endOffset),new r(Math.min(i,u),Math.max(i,u))):n?this.range:null},n.prototype.preserve=function(n){var i,r,t,e,o,s,h,u,f;return t=this._getNativeRange(),t!=null&&this.checkFocus()?(e=this._encodePosition(t.startContainer,t.startOffset),u=e[0],f=e[1],o=this._encodePosition(t.endContainer,t.endOffset),i=o[0],r=o[1],n(),s=this._decodePosition(u,f),u=s[0],f=s[1],h=this._decodePosition(i,r),i=h[0],r=h[1],this._setNativeRange(u,f,i,r)):n()},n.prototype.scrollIntoView=function(){var i,o,n,r,t,s,u,f,e;if(this.range)return(n=this.emitter.editor,e=n.getBounds(this.range.start),r=this.range.isCollapsed()?e:n.getBounds(this.range.end),i=n.root.parentNode.getBoundingClientRect(),o=i.bottom-i.top,o<r.top+r.height)?(u=n.doc.findLineAt(this.range.end),t=u[0],s=u[1],t.node.scrollIntoView(!1)):e.top<0?(f=n.doc.findLineAt(this.range.start),t=f[0],s=f[1],t.node.scrollIntoView()):void 0},n.prototype.setRange=function(n,t){var i,r,u,f,e,o,s;return n!=null?(u=this._indexToPosition(n.start),o=u[0],s=u[1],n.isCollapsed()?(f=[o,s],i=f[0],r=f[1]):(e=this._indexToPosition(n.end),i=e[0],r=e[1]),this._setNativeRange(o,s,i,r)):this._setNativeRange(null),this.update(t)},n.prototype.shiftAfter=function(n,t,i){var r;return r=this.getRange(),i(),r!=null?(r.shift(n,t),this.setRange(r,"silent")):void 0},n.prototype.update=function(n){var f,t,i,u;if(t=this.checkFocus(),i=this.getRange(!0),f=n!=="silent"&&(!r.compare(i,this.range)||t!==this.focus),u=t?i:null,u!==null||n!=="user"||this.nullDelay){if(this.nullDelay=!1,this.range=i,this.focus=t,f)return this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE,u,n)}else return this.nullDelay=!0},n.prototype._decodePosition=function(n,t){var r;return i(n).isElement()&&(r=i(n.parentNode).childNodes().indexOf(n),t+=r,n=n.parentNode),[n,t]},n.prototype._encodePosition=function(n,t){for(var r;;){if(i(n).isTextNode()||n.tagName===i.DEFAULT_BREAK_TAG||i.EMBED_TAGS[n.tagName]!=null)return[n,t];if(t<n.childNodes.length)n=n.childNodes[t],t=0;else{if(n.childNodes.length===0)return this.doc.normalizer.whitelist.tags[n.tagName]==null&&(r=document.createTextNode(""),n.appendChild(r),n=r),[n,0];if(n=n.lastChild,i(n).isElement()){if(n.tagName===i.DEFAULT_BREAK_TAG||i.EMBED_TAGS[n.tagName]!=null)return[n,1];t=n.childNodes.length}else return[n,i(n).length()]}}},n.prototype._getNativeRange=function(){var n,t;return(t=document.getSelection(),(t!=null?t.rangeCount:void 0)>0&&(n=t.getRangeAt(0),i(n.startContainer).isAncestor(this.doc.root,!0)&&(n.startContainer===n.endContainer||i(n.endContainer).isAncestor(this.doc.root,!0))))?n:null},n.prototype._indexToPosition=function(n){var i,r,t;return this.doc.lines.length===0?[this.doc.root,0]:(t=this.doc.findLeafAt(n,!0),i=t[0],r=t[1],this._decodePosition(i.node,r))},n.prototype._positionToIndex=function(n,t){var u,e,o,r,f,s;if(i.isIE(10)&&n.tagName==="BR"&&t===1&&(t=0),s=this._encodePosition(n,t),e=s[0],t=s[1],r=this.doc.findLine(e),r==null)return 0;for(u=r.findLeaf(e),f=0;r.prev!=null;)r=r.prev,f+=r.length;if(u==null)return f;for(o=0;u.prev!=null;)u=u.prev,o+=u.length;return f+o+t},n.prototype._setNativeRange=function(n,t,r,u){var f,e;if(e=document.getSelection(),e)if(n!=null){if(this.checkFocus()||this.doc.root.focus(),f=this._getNativeRange(),f==null||n!==f.startContainer||t!==f.startOffset||r!==f.endContainer||u!==f.endOffset)return e.removeAllRanges(),f=document.createRange(),f.setStart(n,t),f.setEnd(r,u),e.addRange(f)}else if(e.removeAllRanges(),this.doc.root.blur(),i.isIE(11)&&!i.isIE(9))return document.body.focus()},n}();t.exports=u},{"../lib/dom":17,"../lib/range":20,"./leaf":11,"./normalizer":13,lodash:1}],15:[function(n,t){n("./modules/authorship");n("./modules/image-tooltip");n("./modules/keyboard");n("./modules/link-tooltip");n("./modules/multi-cursor");n("./modules/paste-manager");n("./modules/toolbar");n("./modules/tooltip");n("./modules/undo-manager");t.exports=n("./quill")},{"./modules/authorship":21,"./modules/image-tooltip":22,"./modules/keyboard":23,"./modules/link-tooltip":24,"./modules/multi-cursor":25,"./modules/paste-manager":26,"./modules/toolbar":27,"./modules/tooltip":28,"./modules/undo-manager":29,"./quill":30}],16:[function(n,t){var i,r,u,f=function(n,t){function r(){this.constructor=n}for(var i in t)e.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},e={}.hasOwnProperty;u=n("./dom");r=n("./picker");i=function(n){function t(){t.__super__.constructor.apply(this,arguments);u(this.container).addClass("ql-color-picker")}return f(t,n),t.prototype.buildItem=function(n,i,r){var u;return u=t.__super__.buildItem.call(this,n,i,r),u.style.backgroundColor=i.value,u},t}(r);t.exports=i},{"./dom":17,"./picker":19}],17:[function(n,t){var e,f,r,i,u,o=function(n,t){return function(){return n.apply(t,arguments)}},s=function(n,t){function r(){this.constructor=n}for(var i in t)h.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},h={}.hasOwnProperty;r=n("lodash");u=null;f=function(){function n(n){this.node=n;this.trigger=o(this.trigger,this)}return n.prototype.addClass=function(n){if(!this.hasClass(n))return this.node.classList!=null?this.node.classList.add(n):this.node.className!=null&&(this.node.className=(this.node.className+" "+n).trim()),this},n.prototype.attributes=function(n){var i,t,u,e,f,o;if(n)return r.each(n,function(n){return function(t,i){return n.node.setAttribute(i,t)}}(this)),this;if(this.node.attributes==null)return{};for(n={},f=this.node.attributes,t=u=0,e=f.length;u<e;t=++u)o=f[t],i=this.node.attributes[t],n[i.name]=i.value;return n},n.prototype.child=function(n){for(var t=this.node.firstChild,r=i(t).length();t!=null;){if(n<r)break;n-=r;t=t.nextSibling;r=i(t).length()}return t==null&&(t=this.node.lastChild,n=i(t).length()),[t,n]},n.prototype.childNodes=function(){return r.map(this.node.childNodes)},n.prototype.classes=function(){return this.node.className.split(/\s+/)},n.prototype.data=function(n,t){var i;return t!=null?(this.node["ql-data"]==null&&(this.node["ql-data"]={}),this.node["ql-data"][n]=t,this):(i=this.node["ql-data"])!=null?i[n]:void 0},n.prototype.descendants=function(){return r.map(this.node.getElementsByTagName("*"))},n.prototype.get=function(){return this.node},n.prototype.hasClass=function(n){return this.node.classList!=null?this.node.classList.contains(n):this.node.className!=null?this.classes().indexOf(n)>-1:!1},n.prototype.isAncestor=function(n,t){var i;if(t==null&&(t=!1),n===this.node)return t;for(i=this.node;i;){if(i===n)return!0;i=i.parentNode}return!1},n.prototype.isElement=function(){var n;return((n=this.node)!=null?n.nodeType:void 0)===i.ELEMENT_NODE},n.prototype.isTextNode=function(){var n;return((n=this.node)!=null?n.nodeType:void 0)===i.TEXT_NODE},n.prototype.isolate=function(n){return this.node.nextSibling!=null&&i(this.node.nextSibling).splitBefore(n),this.splitBefore(n),this},n.prototype.length=function(){var n;return this.node==null?0:(n=this.text().length,this.isElement()&&(n+=this.node.querySelectorAll(Object.keys(i.EMBED_TAGS).join(",")).length),n)},n.prototype.merge=function(n){var t;return t=i(n),this.isElement()?(t.moveChildren(this.node),this.normalize()):this.text(this.text()+t.text()),t.remove(),this},n.prototype.moveChildren=function(n){return r.each(this.childNodes(),function(t){return n.appendChild(t)}),this},n.prototype.nextLineNode=function(n){var t;return t=this.node.nextSibling,t==null&&this.node.parentNode!==n&&(t=this.node.parentNode.nextSibling),t!=null&&i.LIST_TAGS[t.tagName]!=null&&(t=t.firstChild),t},n.prototype.normalize=function(){for(var t,u,n,r=this.node.firstChild;r!=null;)n=r.nextSibling,t=i(r),n!=null&&i(n).isTextNode()&&(t.text().length===0?t.remove():t.isTextNode()&&(u=n.nextSibling,t.merge(n),n=u)),r=n;return this},n.prototype.on=function(n,t){return this.node.addEventListener(n,function(i){return function(r){var e,f;return e=u&&(n==="keydown"||n==="keyup")?u:r,f=t.call(i.node,e),f||(r.preventDefault(),r.stopPropagation()),f}}(this)),this},n.prototype.remove=function(){var n;return(n=this.node.parentNode)!=null&&n.removeChild(this.node),this.node=null,null},n.prototype.removeClass=function(n){var t;if(this.hasClass(n))return this.node.classList!=null?this.node.classList.remove(n):this.node.className!=null&&(t=this.classes(),t.splice(t.indexOf(n),1),this.node.className=t.join(" ")),this.node.getAttribute("class")||this.node.removeAttribute("class"),this},n.prototype.replace=function(n){return this.node.parentNode.replaceChild(n,this.node),this.node=n,this},n.prototype.splitBefore=function(n,t){var e,u,f,r;if(t==null&&(t=!1),this.node===n||this.node.parentNode===n)return this;if(this.node.previousSibling!=null||t){for(f=this.node.parentNode,u=f.cloneNode(!1),f.parentNode.insertBefore(u,f.nextSibling),r=this.node;r!=null;)e=r.nextSibling,u.appendChild(r),r=e;return i(u).splitBefore(n)}return i(this.node.parentNode).splitBefore(n)},n.prototype.split=function(n,t){var h,c,a,r,f,l,e,o,s,u;if(t==null&&(t=!1),e=this.length(),n=Math.max(0,n),n=Math.min(n,e),!(t||n!==0))return[this.node.previousSibling,this.node,!1];if(!(t||n!==e))return[this.node,this.node.nextSibling,!1];if(this.node.nodeType===i.TEXT_NODE)return h=this.node.splitText(n),[this.node,h,!0];for(f=this.node,u=this.node.cloneNode(!1),this.node.parentNode.insertBefore(u,f.nextSibling),o=this.child(n),c=o[0],n=o[1],s=i(c).split(n),a=s[0],r=s[1];r!==null;)l=r.nextSibling,u.appendChild(r),r=l;return[f,u,!0]},n.prototype.styles=function(n,t){var i;return t==null&&(t=!1),n?(t||(n=r.defaults(n,this.styles())),i=r.map(n,function(n,t){return t+": "+n}).join("; ")+";",this.node.setAttribute("style",i),this):(i=this.node.getAttribute("style")||"",r.reduce(i.split(";"),function(n,t){var i,u,r;return u=t.split(":"),i=u[0],r=u[1],i&&r&&(i=i.trim(),r=r.trim(),n[i.toLowerCase()]=r),n},{}))},n.prototype.switchTag=function(n){var r,t;return(n=n.toUpperCase(),this.node.tagName===n)?this:(t=document.createElement(n),r=this.attributes(),i.VOID_TAGS[n]==null&&this.moveChildren(t),this.replace(t),this.node=t,this.attributes(r))},n.prototype.text=function(n){if(n!=null){switch(this.node.nodeType){case i.ELEMENT_NODE:this.node.textContent=n;break;case i.TEXT_NODE:this.node.data=n}return this}switch(this.node.nodeType){case i.ELEMENT_NODE:return this.node.tagName===i.DEFAULT_BREAK_TAG?"":i.EMBED_TAGS[this.node.tagName]!=null?i.EMBED_TEXT:this.node.textContent!=null?this.node.textContent:"";case i.TEXT_NODE:return this.node.data||"";default:return""}},n.prototype.textNodes=function(){for(var t,i=document.createTreeWalker(this.node,NodeFilter.SHOW_TEXT,null,!1),n=[];t=i.nextNode();)n.push(t);return n},n.prototype.toggleClass=function(n,t){return t==null&&(t=!this.hasClass(n)),t?this.addClass(n):this.removeClass(n),this},n.prototype.trigger=function(n,t){var f,o,e;return t==null&&(t={}),["keypress","keydown","keyup"].indexOf(n)<0?(f=document.createEvent("Event"),f.initEvent(n,t.bubbles,t.cancelable)):(f=document.createEvent("KeyboardEvent"),u=r.clone(t),u.which=r.isNumber(t.key)?t.key:r.isString(t.key)?t.key.toUpperCase().charCodeAt(0):0,i.isIE(10)?(e=[],t.altKey&&e.push("Alt"),t.ctrlKey&&e.push("Control"),t.metaKey&&e.push("Meta"),t.shiftKey&&e.push("Shift"),f.initKeyboardEvent(n,t.bubbles,t.cancelable,window,0,0,e.join(" "),null,null)):(o=r.isFunction(f.initKeyboardEvent)?"initKeyboardEvent":"initKeyEvent",f[o](n,t.bubbles,t.cancelable,window,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,0))),this.node.dispatchEvent(f),u=null,this},n.prototype.unwrap=function(){var n,t;return t=this.node.firstChild,n=this.node.nextSibling,r.each(this.childNodes(),function(t){return function(i){return t.node.parentNode.insertBefore(i,n)}}(this)),this.remove(),t},n.prototype.wrap=function(n){var t;for(this.node.parentNode!=null&&this.node.parentNode.insertBefore(n,this.node),t=n;t.firstChild!=null;)t=n.firstChild;return t.appendChild(this.node),this},n}();e=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,n),t.prototype["default"]=function(){return this.node.querySelector("option[selected]")},t.prototype.option=function(n,t){var o,u,f,s,e,i;if(t==null&&(t=!0),i=r.isElement(n)?n.value:n,i){for(i=i.replace(/[^\w]+/g,""),e=this.node.children,u=f=0,s=e.length;f<s;u=++f)if(o=e[u],o.value.replace(/[^\w]+/g,"")===i){this.node.selectedIndex=u;break}}else this.node.selectedIndex=-1;return t&&this.trigger("change"),this},t.prototype.reset=function(n){var t;return n==null&&(n=!0),t=this["default"](),t!=null?t.selected=!0:this.node.selectedIndex=0,n&&this.trigger("change"),this},t.prototype.value=function(){return this.node.selectedIndex>-1?this.node.options[this.node.selectedIndex].value:""},t}(f);i=function(n){return(n!=null?n.tagName:void 0)==="SELECT"?new e(n):new f(n)};i=r.extend(i,{ELEMENT_NODE:1,NOBREAK_SPACE:"&nbsp;",TEXT_NODE:3,ZERO_WIDTH_NOBREAK_SPACE:"﻿",DEFAULT_BLOCK_TAG:"DIV",DEFAULT_BREAK_TAG:"BR",DEFAULT_INLINE_TAG:"SPAN",EMBED_TEXT:"!",FONT_SIZES:{"10px":1,"13px":2,"16px":3,"18px":4,"24px":5,"32px":6,"48px":7},KEYS:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},BLOCK_TAGS:{ADDRESS:"ADDRESS",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",BLOCKQUOTE:"BLOCKQUOTE",CANVAS:"CANVAS",DD:"DD",DIV:"DIV",DL:"DL",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FOOTER:"FOOTER",FORM:"FORM",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEADER:"HEADER",HGROUP:"HGROUP",LI:"LI",OL:"OL",OUTPUT:"OUTPUT",P:"P",PRE:"PRE",SECTION:"SECTION",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TR:"TR",UL:"UL",VIDEO:"VIDEO"},EMBED_TAGS:{IMG:"IMG"},LINE_TAGS:{DIV:"DIV",LI:"LI"},LIST_TAGS:{OL:"OL",UL:"UL"},VOID_TAGS:{AREA:"AREA",BASE:"BASE",BR:"BR",COL:"COL",COMMAND:"COMMAND",EMBED:"EMBED",HR:"HR",IMG:"IMG",INPUT:"INPUT",KEYGEN:"KEYGEN",LINK:"LINK",META:"META",PARAM:"PARAM",SOURCE:"SOURCE",TRACK:"TRACK",WBR:"WBR"},convertFontSize:function(n){var f,e,t,u;r.isString(n)&&n.indexOf("px")>-1?(t=Object.keys(i.FONT_SIZES),u=r.values(i.FONT_SIZES)):(u=Object.keys(i.FONT_SIZES),t=r.values(i.FONT_SIZES));for(f in t)if(e=t[f],parseInt(n)<=parseInt(e))return u[f];return r.last(u)},isIE:function(n){var t;return t=document.documentMode,t&&n>=t},isIOS:function(){return/iPhone|iPad/i.test(navigator.userAgent)},isMac:function(){return/Mac/i.test(navigator.platform)}});t.exports=i},{lodash:1}],18:[function(n,t){var i,r;r=function(){function n(n){this.data=n;this.prev=this.next=null}return n}();i=function(){function n(){this.length=0;this.first=this.last=null}return n.Node=r,n.prototype.append=function(n){return this.first!=null?(n.next=null,this.last.next=n):this.first=n,n.prev=this.last,this.last=n,this.length+=1},n.prototype.insertAfter=function(n,t){return t.prev=n,n!=null?(t.next=n.next,n.next!=null&&(n.next.prev=t),n.next=t,n===this.last&&(this.last=t)):(t.next=this.first,this.first.prev=t,this.first=t),this.length+=1},n.prototype.remove=function(n){return this.length>1?(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.first&&(this.first=n.next),n===this.last&&(this.last=n.prev)):this.first=this.last=null,n.prev=n.next=null,this.length-=1},n.prototype.toArray=function(){for(var t=[],n=this.first;n!=null;)t.push(n),n=n.next;return t},n}();t.exports=i},{}],19:[function(n,t){var u,r,i;r=n("lodash");i=n("./dom");u=function(){function n(n){this.select=n;this.container=document.createElement("span");this.buildPicker();i(this.container).addClass("ql-picker");this.select.style.display="none";this.select.parentNode.insertBefore(this.container,this.select);i(document).on("click",function(n){return function(){return n.close(),!0}}(this));i(this.label).on("click",function(n){return function(){return r.defer(function(){return i(n.container).toggleClass("ql-expanded")}),!1}}(this));i(this.select).on("change",function(n){return function(){var t,r;return n.select.selectedIndex>-1&&(t=n.container.querySelectorAll(".ql-picker-item")[n.select.selectedIndex],r=n.select.options[n.select.selectedIndex]),n.selectItem(t,!1),i(n.label).toggleClass("ql-active",r!==i(n.select)["default"]())}}(this))}return n.TEMPLATE='<span class="ql-picker-label"><\/span><span class="ql-picker-options"><\/span>',n.prototype.buildItem=function(n,t,r){var u;u=document.createElement("span");u.setAttribute("data-value",t.getAttribute("value"));i(u).addClass("ql-picker-item").text(i(t).text()).on("click",function(n){return function(){return n.selectItem(u,!0),n.close()}}(this));return this.select.selectedIndex===r&&this.selectItem(u,!1),u},n.prototype.buildPicker=function(){var t;return r.each(i(this.select).attributes(),function(n){return function(t,i){return n.container.setAttribute(i,t)}}(this)),this.container.innerHTML=n.TEMPLATE,this.label=this.container.querySelector(".ql-picker-label"),t=this.container.querySelector(".ql-picker-options"),r.each(this.select.options,function(n){return function(i,r){var u;return u=n.buildItem(t,i,r),t.appendChild(u)}}(this))},n.prototype.close=function(){return i(this.container).removeClass("ql-expanded")},n.prototype.selectItem=function(n,t){var r,u;return r=this.container.querySelector(".ql-selected"),r!=null&&i(r).removeClass("ql-selected"),n!=null?(u=n.getAttribute("data-value"),i(n).addClass("ql-selected"),i(this.label).text(i(n).text()),i(this.select).option(u,t),this.label.setAttribute("data-value",u)):(this.label.innerHTML="&nbsp;",this.label.removeAttribute("data-value"))},n}();t.exports=u},{"./dom":17,lodash:1}],20:[function(n,t){var i,r;r=n("lodash");i=function(){function n(n,t){this.start=n;this.end=t}return n.compare=function(n,t){return n===t?!0:(n!=null&&t!=null)?n.equals(t):!1},n.prototype.equals=function(n){return n==null?!1:this.start===n.start&&this.end===n.end},n.prototype.shift=function(n,t){var i;return i=r.map([this.start,this.end],function(i){return n>i?i:t>=0?i+t:Math.max(n,i+t)}),this.start=i[0],this.end=i[1],i},n.prototype.isCollapsed=function(){return this.start===this.end},n}();t.exports=i},{lodash:1}],21:[function(n,t){var r,f,i,e,u;i=n("../quill");e=i.require("lodash");u=i.require("dom");f=i.require("delta");r=function(){function n(n,t){if(this.quill=n,this.options=t,this.options.button!=null&&this.attachButton(this.options.button),this.options.enabled&&this.enable(),this.quill.addFormat("author",{"class":"author-"}),this.options.authorId!=null){this.quill.on(this.quill.constructor.events.PRE_EVENT,function(n){return function(t,r,u){var o,s;if(t===n.quill.constructor.events.TEXT_CHANGE&&u==="user")return o=new f,s={author:n.options.authorId},e.each(r.ops,function(t){if(t["delete"]==null)return t.insert!=null||t.retain!=null&&t.attributes!=null?(t.attributes||(t.attributes={}),t.attributes.author=n.options.authorId,o.retain(t.retain||t.insert.length||1,s)):o.retain(t.retain)}),n.quill.updateContents(o,i.sources.SILENT)}}(this));this.addAuthor(this.options.authorId,this.options.color)}}return n.DEFAULTS={authorId:null,color:"transparent",enabled:!1},n.prototype.addAuthor=function(n,t){var i;return i={},i[".authorship .author-"+n]={"background-color":""+t},this.quill.theme.addStyles(i)},n.prototype.attachButton=function(n){var t=u(n);return t.on("click",function(n){return function(){return t.toggleClass("ql-on"),n.enable($dom.hasClass("ql-on"))}}(this))},n.prototype.enable=function(n){return n==null&&(n=!0),u(this.quill.root).toggleClass("authorship",n)},n.prototype.disable=function(){return this.enable(!1)},n}();i.registerModule("authorship",r);t.exports=r},{"../quill":30}],22:[function(n,t){var s,f,r,o,e,i,u,h=function(n,t){function r(){this.constructor=n}for(var i in t)c.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},c={}.hasOwnProperty;r=n("../quill");e=n("./tooltip");i=r.require("lodash");u=r.require("dom");s=r.require("delta");o=r.require("range");f=function(n){function t(n,r){this.quill=n;this.options=r;this.options=i.defaults(this.options,e.DEFAULTS);t.__super__.constructor.call(this,this.quill,this.options);this.preview=this.container.querySelector(".preview");this.textbox=this.container.querySelector(".input");u(this.container).addClass("ql-image-tooltip");this.initListeners()}return h(t,n),t.DEFAULTS={template:'<input class="input" type="textbox"> <div class="preview"> <span>Preview<\/span> <\/div> <a href="javascript:;" class="cancel">Cancel<\/a> <a href="javascript:;" class="insert">Insert<\/a>'},t.prototype.initListeners=function(){u(this.quill.root).on("focus",i.bind(this.hide,this));u(this.container.querySelector(".insert")).on("click",i.bind(this.insertImage,this));u(this.container.querySelector(".cancel")).on("click",i.bind(this.hide,this));u(this.textbox).on("input",i.bind(this._preview,this));this.initTextbox(this.textbox,this.insertImage,this.hide);return this.quill.onModuleLoad("toolbar",function(n){return function(t){return n.toolbar=t,t.initFormat("image",i.bind(n._onToolbar,n))}}(this))},t.prototype.insertImage=function(){var n,t;return t=this._normalizeURL(this.textbox.value),this.range==null&&(this.range=new o(0,0)),this.range&&(this.preview.innerHTML="<span>Preview<\/span>",this.textbox.value="",n=this.range.end,this.quill.insertEmbed(n,"image",t,"user"),this.quill.setSelection(n+1,n+1)),this.hide()},t.prototype._onToolbar=function(n,t){return t?(this.textbox.value||(this.textbox.value="http://"),this.show(),this.textbox.focus(),i.defer(function(n){return function(){return n.textbox.setSelectionRange(n.textbox.value.length,n.textbox.value.length)}}(this))):(this.quill.deleteText(n,"user"),this.toolbar.setActive("image",!1))},t.prototype._preview=function(){var n;if(this._matchImageURL(this.textbox.value))return this.preview.firstChild.tagName==="IMG"?this.preview.firstChild.setAttribute("src",this.textbox.value):(n=document.createElement("img"),n.setAttribute("src",this.textbox.value),this.preview.replaceChild(n,this.preview.firstChild))},t.prototype._matchImageURL=function(n){return/^https?:\/\/.+\.(jpe?g|gif|png)$/.test(n)},t.prototype._normalizeURL=function(n){return/^https?:\/\//.test(n)||(n="http://"+n),n},t}(e);r.registerModule("image-tooltip",f);t.exports=f},{"../quill":30,"./tooltip":28}],23:[function(n,t){var f,e,r,i,u;r=n("../quill");i=r.require("lodash");u=r.require("dom");f=r.require("delta");e=function(){function n(n){this.quill=n;this.hotkeys={};this._initListeners();this._initHotkeys();this.quill.onModuleLoad("toolbar",function(n){return function(t){return n.toolbar=t}}(this))}return n.hotkeys={BOLD:{key:"B",metaKey:!0},INDENT:{key:u.KEYS.TAB},ITALIC:{key:"I",metaKey:!0},OUTDENT:{key:u.KEYS.TAB,shiftKey:!0},UNDERLINE:{key:"U",metaKey:!0}},n.prototype.addHotkey=function(n,t){return Array.isArray(n)||(n=[n]),i.each(n,function(n){return function(r){var f,u;return r=i.isObject(r)?i.clone(r):{key:r},r.callback=t,u=i.isNumber(r.key)?r.key:r.key.toUpperCase().charCodeAt(0),(f=n.hotkeys)[u]==null&&(f[u]=[]),n.hotkeys[u].push(r)}}(this))},n.prototype.removeHotkeys=function(t,r){var e,o,f,s,u;return t=i.isString(t)?t.toUpperCase():t,t=n.hotkeys[t]?n.hotkeys[t]:t,t=i.isObject(t)?t:{key:t},u=i.isNumber(t.key)?t.key:t.key.charCodeAt(0),(e=this.hotkeys)[u]==null&&(e[u]=[]),f=i.partition(this.hotkeys[u],function(n){return i.isEqual(t,i.omit(n,"callback"))&&(!r||r===n.callback)}),s=f[0],o=f[1],this.hotkeys[u]=o,i.map(s,"callback")},n.prototype.toggleFormat=function(n,t){var f,u;return f=n.isCollapsed()?this.quill.getContents(Math.max(0,n.start-1),n.end):this.quill.getContents(n),u=f.ops.length===0||!i.all(f.ops,function(n){var i;if((i=n.attributes)!=null)return i[t]}),n.isCollapsed()?this.quill.prepareFormat(t,u,r.sources.USER):this.quill.formatText(n,t,u,r.sources.USER),this.toolbar!=null?this.toolbar.setActive(t,u):void 0},n.prototype._initEnter=function(){var n;return n=[{key:u.KEYS.ENTER},{key:u.KEYS.ENTER,shiftKey:!0}],this.addHotkey(n,function(n){return function(t){var h,c,u,e,o,s;return t==null?!0:(o=n.quill.editor.doc.findLineAt(t.start),u=o[0],e=o[1],s=u.findLeafAt(e),c=s[0],e=s[1],h=(new f).retain(t.start).insert("\n",u.formats)["delete"](t.end-t.start),n.quill.updateContents(h,r.sources.USER),i.each(c.formats,function(t,i){n.quill.prepareFormat(i,t);n.toolbar!=null&&n.toolbar.setActive(i,t)}),n.quill.editor.selection.scrollIntoView(),!1)}}(this))},n.prototype._initDeletes=function(){return this.addHotkey([u.KEYS.DELETE,u.KEYS.BACKSPACE],function(n){return function(t,i){var o,f,s,e;return t!=null&&n.quill.getLength()>0&&(t.start!==t.end?n.quill.deleteText(t.start,t.end,r.sources.USER):i.key===u.KEYS.BACKSPACE?(e=n.quill.editor.doc.findLineAt(t.start),f=e[0],s=e[1],s===0&&(f.formats.bullet||f.formats.list)?(o=f.formats.bullet?"bullet":"list",n.quill.formatLine(t.start,t.start,o,!1,r.sources.USER)):t.start>0&&n.quill.deleteText(t.start-1,t.start,r.sources.USER)):t.start<n.quill.getLength()-1&&n.quill.deleteText(t.start,t.start+1,r.sources.USER)),n.quill.editor.selection.scrollIntoView(),!1}}(this))},n.prototype._initHotkeys=function(){return this.addHotkey(n.hotkeys.INDENT,function(n){return function(t){return n._onTab(t,!1),!1}}(this)),this.addHotkey(n.hotkeys.OUTDENT,function(){return function(){return!1}}(this)),i.each(["bold","italic","underline"],function(t){return function(i){return t.addHotkey(n.hotkeys[i.toUpperCase()],function(n){return t.quill.editor.doc.formats[i]&&t.toggleFormat(n,i),!1})}}(this)),this._initDeletes(),this._initEnter()},n.prototype._initListeners=function(){return u(this.quill.root).on("keydown",function(n){return function(t){var r;return r=!1,i.each(n.hotkeys[t.which],function(i){var f;if(f=u.isMac()?t.metaKey:t.metaKey||t.ctrlKey,!!i.metaKey==!!f)return!!i.shiftKey!=!!t.shiftKey?void 0:!!i.altKey!=!!t.altKey?void 0:(r=i.callback(n.quill.getSelection(),i,t)===!1||r,!0)}),!r}}(this))},n.prototype._onTab=function(n,t){var i;return t==null&&(t=!1),i=(new f).retain(n.start).insert("\t")["delete"](n.end-n.start).retain(this.quill.getLength()-n.end),this.quill.updateContents(i,r.sources.USER),this.quill.setSelection(n.start+1,n.start+1)},n}();r.registerModule("keyboard",e);t.exports=e},{"../quill":30}],24:[function(n,t){var e,u,f,r,i,o=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},s={}.hasOwnProperty;u=n("../quill");f=n("./tooltip");r=u.require("lodash");i=u.require("dom");e=function(n){function t(n,u){this.quill=n;this.options=u;this.options=r.defaults(this.options,f.DEFAULTS);t.__super__.constructor.call(this,this.quill,this.options);i(this.container).addClass("ql-link-tooltip");this.textbox=this.container.querySelector(".input");this.link=this.container.querySelector(".url");this.initListeners()}return o(t,n),t.DEFAULTS={maxLength:50,template:'<span class="title">Visit URL:&nbsp;<\/span> <a href="#" class="url" target="_blank" href="about:blank"><\/a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;<\/span> <a href="javascript:;" class="change">Change<\/a> <a href="javascript:;" class="remove">Remove<\/a> <a href="javascript:;" class="done">Done<\/a>'},t.hotkeys={LINK:{key:"K",metaKey:!0}},t.prototype.initListeners=function(){this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(n){return function(t){var i;if((t!=null&&t.isCollapsed()))return(i=n._findAnchor(t),i)?(n.setMode(i.href,!1),n.show(i)):n.container.style.left!==f.HIDE_MARGIN?(n.range=null,n.hide()):void 0}}(this));i(this.container.querySelector(".done")).on("click",r.bind(this.saveLink,this));i(this.container.querySelector(".remove")).on("click",function(n){return function(){return n.removeLink(n.range)}}(this));i(this.container.querySelector(".change")).on("click",function(n){return function(){return n.setMode(n.link.href,!0)}}(this));this.initTextbox(this.textbox,this.saveLink,this.hide);this.quill.onModuleLoad("toolbar",function(n){return function(t){return n.toolbar=t,t.initFormat("link",r.bind(n._onToolbar,n))}}(this));return this.quill.onModuleLoad("keyboard",function(n){return function(i){return i.addHotkey(t.hotkeys.LINK,r.bind(n._onKeyboard,n))}}(this))},t.prototype.saveLink=function(){var t,i,n;return n=this._normalizeURL(this.textbox.value),this.range!=null&&(i=this.range.end,this.range.isCollapsed()?(t=this._findAnchor(this.range),t!=null&&(t.href=n)):this.quill.formatText(this.range,"link",n,"user"),this.quill.setSelection(i,i)),this.setMode(n,!1)},t.prototype.removeLink=function(n){return n.isCollapsed()&&(n=this._expandRange(n)),this.hide(),this.quill.formatText(n,"link",!1,"user"),this.toolbar!=null?this.toolbar.setActive("link",!1):void 0},t.prototype.setMode=function(n,t){var u;return t==null&&(t=!1),t?(this.textbox.value=n,r.defer(function(t){return function(){return t.textbox.focus(),t.textbox.setSelectionRange(0,n.length)}}(this))):(this.link.href=n,n=this.link.href,u=n.length>this.options.maxLength?n.slice(0,this.options.maxLength)+"...":n,i(this.link).text(u)),i(this.container).toggleClass("editing",t)},t.prototype._findAnchor=function(n){var i,t,u,r;for(r=this.quill.editor.doc.findLeafAt(n.start,!0),i=r[0],u=r[1],i!=null&&(t=i.node);t!=null&&t!==this.quill.root;){if(t.tagName==="A")return t;t=t.parentNode}return null},t.prototype._expandRange=function(n){var r,u,f,t,i;return t=this.quill.editor.doc.findLeafAt(n.start,!0),u=t[0],f=t[1],i=n.start-f,r=i+u.length,{start:i,end:r}},t.prototype._onToolbar=function(n,t){return this._toggle(n,t)},t.prototype._onKeyboard=function(){var n;return n=this.quill.getSelection(),this._toggle(n,!this._findAnchor(n))},t.prototype._toggle=function(n,t){var i;if(n)if(t){if(!n.isCollapsed())return this.setMode(this._suggestURL(n),!0),i=this.quill.editor.selection._getNativeRange(),this.show(i)}else return this.removeLink(n)},t.prototype._normalizeURL=function(n){return/^(https?:\/\/|mailto:)/.test(n)||(n="http://"+n),n},t.prototype._suggestURL=function(n){var t;return t=this.quill.getText(n),this._normalizeURL(t)},t}(f);u.registerModule("link-tooltip",e);t.exports=e},{"../quill":30,"./tooltip":28}],25:[function(n,t){var e,f,u,i,r,o=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},s={}.hasOwnProperty;u=n("../quill");e=n("eventemitter2").EventEmitter2;i=u.require("lodash");r=u.require("dom");f=function(n){function t(n,t){this.quill=n;this.options=t;this.cursors={};this.container=this.quill.addContainer("ql-multi-cursor",!0);this.quill.on(this.quill.constructor.events.TEXT_CHANGE,i.bind(this._applyDelta,this))}return o(t,n),t.DEFAULTS={template:'<span class="cursor-flag"> <span class="cursor-name"><\/span> <\/span> <span class="cursor-caret"><\/span>',timeout:2500},t.events={CURSOR_ADDED:"cursor-addded",CURSOR_MOVED:"cursor-moved",CURSOR_REMOVED:"cursor-removed"},t.prototype.clearCursors=function(){return i.each(Object.keys(this.cursors),i.bind(this.removeCursor,this)),this.cursors={}},t.prototype.moveCursor=function(n,t){var i;if(i=this.cursors[n],i!=null)return i.index=t,r(i.elem).removeClass("hidden"),clearTimeout(i.timer),i.timer=setTimeout(function(){return function(){return r(i.elem).addClass("hidden"),i.timer=null}}(this),this.options.timeout),this._updateCursor(i),i},t.prototype.removeCursor=function(n){var i;return i=this.cursors[n],this.emit(t.events.CURSOR_REMOVED,i),i!=null&&i.elem.parentNode.removeChild(i.elem),delete this.cursors[n]},t.prototype.setCursor=function(n,r,u,f){var e;return this.cursors[n]==null&&(this.cursors[n]=e={userId:n,index:r,color:f,elem:this._buildCursor(u,f)},this.emit(t.events.CURSOR_ADDED,e)),i.defer(function(t){return function(){return t.moveCursor(n,r)}}(this)),this.cursors[n]},t.prototype.shiftCursors=function(n,t,r){return r==null&&(r=null),i.each(this.cursors,function(i){return function(u){var f;if(u)return(f=Math.max(t,n-u.index),u.userId===r)?i.moveCursor(r,u.index+f):u.index>n?u.index+=f:void 0}}(this))},t.prototype.update=function(){return i.each(this.cursors,function(n){return function(t){if(t!=null)return n._updateCursor(t),!0}}(this))},t.prototype._applyDelta=function(n){var t;return t=0,i.each(n.ops,function(n){return function(i){var r,u;return r=0,i.insert!=null?(r=i.insert.length||1,n.shiftCursors(t,r,(u=i.attributes)!=null?u.author:void 0)):i["delete"]!=null?n.shiftCursors(t,-1*i["delete"],null):i.retain!=null&&(n.shiftCursors(t,0,null),r=i.retain),t+=r}}(this)),this.update()},t.prototype._buildCursor=function(n,t){var i,f,e,u;return i=document.createElement("span"),r(i).addClass("cursor"),i.innerHTML=this.options.template,e=i.querySelector(".cursor-flag"),u=i.querySelector(".cursor-name"),r(u).text(n),f=i.querySelector(".cursor-caret"),f.style.backgroundColor=u.style.backgroundColor=t,this.container.appendChild(i),i},t.prototype._updateCursor=function(n){var i,u;return(i=this.quill.getBounds(n.index),i==null)?this.removeCursor(n.userId):(n.elem.style.top=i.top+this.quill.container.scrollTop+"px",n.elem.style.left=i.left+"px",n.elem.style.height=i.height+"px",u=n.elem.querySelector(".cursor-flag"),r(n.elem).toggleClass("top",parseInt(n.elem.style.top)<=u.offsetHeight).toggleClass("left",parseInt(n.elem.style.left)<=u.offsetWidth).toggleClass("right",this.quill.root.offsetWidth-parseInt(n.elem.style.left)<=u.offsetWidth),this.emit(t.events.CURSOR_MOVED,n))},t}(e);u.registerModule("multi-cursor",f);t.exports=f},{"../quill":30,eventemitter2:2}],26:[function(n,t){var f,e,u,i,r,o,s=function(n,t){return function(){return n.apply(t,arguments)}};i=n("../quill");e=n("../core/document");r=i.require("lodash");o=i.require("dom");f=i.require("delta");u=function(){function n(t,i){var u;this.quill=t;this._onConvert=s(this._onConvert,this);this.container=this.quill.addContainer("ql-paste-manager");this.container.setAttribute("contenteditable",!0);this.container.setAttribute("tabindex","-1");o(this.quill.root).on("paste",r.bind(this._paste,this));this.options=r.defaults(i,n.DEFAULTS);(u=this.options).onConvert==null&&(u.onConvert=this._onConvert)}return n.DEFAULTS={onConvert:null},n.prototype._onConvert=function(n){var t,r,i;return(r=new e(n,this.quill.options),t=r.toDelta(),i=t.length(),i===0)?t:t.compose((new f).retain(i-1)["delete"](1))},n.prototype._paste=function(){var t,n;if(t=this.quill.getLength(),n=this.quill.getSelection(),n!=null)return this.container.focus(),r.defer(function(t){return function(){var i,r;return i=t.options.onConvert(t.container),r=i.length(),r>0&&(n.start>0&&i.ops.unshift({retain:n.start}),i["delete"](n.end-n.start),t.quill.updateContents(i,"user")),t.quill.setSelection(n.start+r,n.start+r),t.quill.editor.selection.scrollIntoView(),t.container.innerHTML=""}}(this))},n}();i.registerModule("paste-manager",u);t.exports=u},{"../core/document":8,"../quill":30}],27:[function(n,t){var u,f,i,r;u=n("../quill");i=u.require("lodash");r=u.require("dom");f=function(){function n(t,f){if(this.quill=t,this.options=f,(i.isString(this.options)||i.isElement(this.options))&&(this.options={container:this.options}),this.options.container==null)throw new Error("container required for toolbar",this.options);this.container=i.isString(this.options.container)?document.querySelector(this.options.container):this.options.container;this.inputs={};this.preventUpdate=!1;this.triggering=!1;i.each(this.quill.options.formats,function(t){return function(r){if(n.formats.TOOLTIP[r]==null)return t.initFormat(r,i.bind(t._applyFormat,t,r))}}(this));this.quill.on(u.events.FORMAT_INIT,function(t){return function(r){if(n.formats.TOOLTIP[r]==null)return t.initFormat(r,i.bind(t._applyFormat,t,r))}}(this));this.quill.on(u.events.SELECTION_CHANGE,function(n){return function(t){if(t!=null)return n.updateActive(t)}}(this));this.quill.on(u.events.TEXT_CHANGE,function(n){return function(){return n.updateActive()}}(this));this.quill.onModuleLoad("keyboard",function(n){return function(t){return t.addHotkey([r.KEYS.BACKSPACE,r.KEYS.DELETE],function(){return i.defer(i.bind(n.updateActive,n))})}}(this));r(this.container).addClass("ql-toolbar");r.isIOS()&&r(this.container).addClass("ios")}return n.DEFAULTS={container:null},n.formats={LINE:{align:"align",bullet:"bullet",list:"list"},SELECT:{align:"align",background:"background",color:"color",font:"font",size:"size"},TOGGLE:{bold:"bold",bullet:"bullet",image:"image",italic:"italic",link:"link",list:"list",strike:"strike",underline:"underline"},TOOLTIP:{image:"image",link:"link"}},n.prototype.initFormat=function(t,i){var f,u,e;if(e=".ql-"+t,n.formats.SELECT[t]!=null?(e="select"+e,f="change"):f="click",u=this.container.querySelector(e),u!=null){this.inputs[t]=u;return r(u).on(f,function(n){return function(){var t,e;return e=f==="change"?r(u).value():!r(u).hasClass("ql-active"),n.preventUpdate=!0,n.quill.focus(),t=n.quill.getSelection(),t!=null&&i(t,e),r.isIE(11)&&n.quill.editor.selection.scrollIntoView(),n.preventUpdate=!1,!1}}(this))}},n.prototype.setActive=function(n,t){var i,u,f,e;if(n==="image"&&(t=!1),u=this.inputs[n],u!=null)return i=r(u),u.tagName==="SELECT"?(this.triggering=!0,e=i.value(u),t==null&&(t=(f=i["default"]())!=null?f.value:void 0),Array.isArray(t)&&(t=""),t!==e&&(t!=null?i.option(t):i.reset()),this.triggering=!1):i.toggleClass("ql-active",t||!1)},n.prototype.updateActive=function(n,t){var r;if(t==null&&(t=null),n||(n=this.quill.getSelection()),n!=null&&!this.preventUpdate)return r=this._getActive(n),i.each(this.inputs,function(n){return function(i,u){return(!Array.isArray(t)||t.indexOf(u)>-1)&&n.setActive(u,r[u]),!0}}(this))},n.prototype._applyFormat=function(t,r,u){if(!this.triggering)return r.isCollapsed()?this.quill.prepareFormat(t,u,"user"):n.formats.LINE[t]!=null?this.quill.formatLine(r,t,u,"user"):this.quill.formatText(r,t,u,"user"),i.defer(function(n){return function(){return n.updateActive(r,["bullet","list"]),n.setActive(t,u)}}(this))},n.prototype._getActive=function(n){var t,r;return t=this._getLeafActive(n),r=this._getLineActive(n),i.defaults({},t,r)},n.prototype._getLeafActive=function(n){var t,u,e,f,r;return n.isCollapsed()?(r=this.quill.editor.doc.findLineAt(n.start),e=r[0],f=r[1],t=f===0?this.quill.getContents(n.start,n.end+1):this.quill.getContents(n.start-1,n.end)):t=this.quill.getContents(n),u=i.map(t.ops,"attributes"),this._intersectFormats(u)},n.prototype._getLineActive=function(n){var t,u,r,o,f,e;for(u=[],f=this.quill.editor.doc.findLineAt(n.start),t=f[0],o=f[1],e=this.quill.editor.doc.findLineAt(n.end),r=e[0],o=e[1],r!=null&&r===t&&(r=r.next);t!=null&&t!==r;)u.push(i.clone(t.formats)),t=t.next;return this._intersectFormats(u)},n.prototype._intersectFormats=function(t){return i.reduce(t.slice(1),function(t,r){var u,e,f,o,s;return r==null&&(r={}),u=Object.keys(t),f=r!=null?Object.keys(r):{},o=i.intersection(u,f),s=i.difference(u,f),e=i.difference(f,u),i.each(o,function(i){if(n.formats.SELECT[i]!=null)if(Array.isArray(t[i])){if(t[i].indexOf(r[i])<0)return t[i].push(r[i])}else if(t[i]!==r[i])return t[i]=[t[i],r[i]]}),i.each(s,function(i){return n.formats.TOGGLE[i]!=null?delete t[i]:n.formats.SELECT[i]!=null&&!Array.isArray(t[i])?t[i]=[t[i]]:void 0}),i.each(e,function(i){if(n.formats.SELECT[i]!=null)return t[i]=[r[i]]}),t},t[0]||{})},n}();u.registerModule("toolbar",f);t.exports=f},{"../quill":30}],28:[function(n,t){var i,u,f,r;i=n("../quill");f=i.require("lodash");r=i.require("dom");u=function(){function n(t,i){this.quill=t;this.options=i;this.container=this.quill.addContainer("ql-tooltip");this.container.innerHTML=this.options.template;this.hide();this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(t){return function(){if(t.container.style.left!==n.HIDE_MARGIN)return t.range=null,t.hide()}}(this))}return n.DEFAULTS={offset:10,template:""},n.HIDE_MARGIN="-10000px",n.prototype.initTextbox=function(n,t,i){return r(n).on("keydown",function(n){return function(u){switch(u.which){case r.KEYS.ENTER:return u.preventDefault(),t.call(n);case r.KEYS.ESCAPE:return u.preventDefault(),i.call(n);default:return!0}}}(this))},n.prototype.hide=function(){return this.container.style.left=n.HIDE_MARGIN,this.range&&this.quill.setSelection(this.range),this.range=null},n.prototype.position=function(n){var r,o,e,f,u,i,t;return n!=null?(i=n.getBoundingClientRect(),u=this.quill.container.getBoundingClientRect(),e=i.left-u.left,f=i.top-u.top,o=i.bottom-u.bottom,r=e+i.width/2-this.container.offsetWidth/2,t=f+i.height+this.options.offset,t+this.container.offsetHeight>this.quill.container.offsetHeight&&(t=f-this.container.offsetHeight-this.options.offset),r=Math.max(0,Math.min(r,this.quill.container.offsetWidth-this.container.offsetWidth)),t=Math.max(0,Math.min(t,this.quill.container.offsetHeight-this.container.offsetHeight))):(r=this.quill.container.offsetWidth/2-this.container.offsetWidth/2,t=this.quill.container.offsetHeight/2-this.container.offsetHeight/2),t+=this.quill.container.scrollTop,[r,t]},n.prototype.show=function(n){var i,t,r;return this.range=this.quill.getSelection(),t=this.position(n),i=t[0],r=t[1],this.container.style.left=i+"px",this.container.style.top=r+"px",this.container.focus()},n}();i.registerModule("tooltip",u);t.exports=u},{"../quill":30}],29:[function(n,t){var f,i,r,u;i=n("../quill");u=i.require("lodash");f=i.require("delta");r=function(){function n(n,t){this.quill=n;this.options=t!=null?t:{};this.lastRecorded=0;this.ignoreChange=!1;this.clear();this.initListeners()}return n.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},n.hotkeys={UNDO:{key:"Z",metaKey:!0},REDO:{key:"Z",metaKey:!0,shiftKey:!0}},n.prototype.initListeners=function(){this.quill.onModuleLoad("keyboard",function(t){return function(i){var r;return i.addHotkey(n.hotkeys.UNDO,function(){return t.quill.editor.checkUpdate(),t.undo(),!1}),r=[n.hotkeys.REDO],navigator.platform.indexOf("Win")>-1&&r.push({key:"Y",metaKey:!0}),i.addHotkey(r,function(){return t.quill.editor.checkUpdate(),t.redo(),!1})}}(this));return this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(n){return function(t,r){if(!n.ignoreChange)return n.options.userOnly&&r!==i.sources.USER?n._transform(t):n.record(t,n.oldDelta),n.oldDelta=n.quill.getContents()}}(this))},n.prototype.clear=function(){return this.stack={undo:[],redo:[]},this.oldDelta=this.quill.getContents()},n.prototype.record=function(n){var i,u,r,t;if(n.ops.length>0){this.stack.redo=[];try{if(t=this.quill.getContents().diff(this.oldDelta),r=(new Date).getTime(),this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0?(i=this.stack.undo.pop(),t=t.compose(i.undo),n=i.redo.compose(n)):this.lastRecorded=r,this.stack.undo.push({redo:n,undo:t}),this.stack.undo.length>this.options.maxStack)return this.stack.undo.unshift()}catch(f){return u=f,console.warn("Could not record change... clearing undo stack."),this.clear()}}},n.prototype.redo=function(){return this._change("redo","undo")},n.prototype.undo=function(){return this._change("undo","redo")},n.prototype._getLastChangeIndex=function(n){var i,t;return t=0,i=0,u.each(n.ops,function(n){return n.insert!=null?t=Math.max(i+(n.insert.length||1),t):n["delete"]!=null?t=Math.max(i,t):n.retain!=null?(n.attributes!=null&&(t=Math.max(i+n.retain,t)),i+=n.retain):void 0}),t},n.prototype._change=function(n,t){var r,u;if(this.stack[n].length>0)return r=this.stack[n].pop(),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[n],i.sources.USER),this.ignoreChange=!1,u=this._getLastChangeIndex(r[n]),this.quill.setSelection(u,u),this.oldDelta=this.quill.getContents(),this.stack[t].push(r)},n.prototype._transform=function(n){var t,i,r,o,s,u,f,e;for(this.oldDelta=n.transform(this.oldDelta,!0),u=this.stack.undo,i=0,o=u.length;i<o;i++)t=u[i],t.undo=n.transform(t.undo,!0),t.redo=n.transform(t.redo,!0);for(f=this.stack.redo,e=[],r=0,s=f.length;r<s;r++)t=f[r],t.undo=n.transform(t.undo,!0),e.push(t.redo=n.transform(t.redo,!0));return e},n}();i.registerModule("undo-manager",r);t.exports=r},{"../quill":30}],30:[function(n,t){var r,c,o,l,s,a,e,h,i,u,v,y=function(n,t){function r(){this.constructor=n}for(var i in t)p.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},p={}.hasOwnProperty,f=[].slice;i=n("lodash");v=n("../package.json");r=n("rich-text/lib/delta");l=n("eventemitter2").EventEmitter2;u=n("./lib/dom");c=n("./core/document");o=n("./core/editor");s=n("./core/format");a=n("./core/normalizer");h=n("./lib/range");e=function(n){function t(n,r){var f,e,u;if(this.container=n,r==null&&(r={}),i.isString(this.container)&&(this.container=document.querySelector(this.container)),this.container==null)throw new Error("Invalid Quill container");if(e=i.defaults(r.modules||{},t.DEFAULTS.modules),f=this.container.innerHTML,this.container.innerHTML="",this.options=i.defaults(r,t.DEFAULTS),this.options.modules=e,this.options.id=this.id="ql-editor-"+(t.editors.length+1),this.modules={},this.root=this.addContainer("ql-editor"),this.editor=new o(this.root,this,this.options),t.editors.push(this),this.setHTML(f,t.sources.SILENT),u=t.themes[this.options.theme],u==null)throw new Error("Cannot load "+this.options.theme+" theme. Are you sure you registered it?");this.theme=new u(this,this.options);i.each(this.options.modules,function(n){return function(t,i){return n.addModule(i,t)}}(this))}return y(t,n),t.version=v.version,t.editors=[],t.modules=[],t.themes=[],t.DEFAULTS={formats:["align","bold","italic","strike","underline","color","background","font","size","link","image","bullet","list"],modules:{keyboard:!0,"paste-manager":!0,"undo-manager":!0},pollInterval:100,readOnly:!1,styles:{},theme:"base"},t.events={FORMAT_INIT:"format-init",MODULE_INIT:"module-init",POST_EVENT:"post-event",PRE_EVENT:"pre-event",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},t.sources=o.sources,t.registerModule=function(n,i){return t.modules[n]!=null&&console.warn("Overwriting "+n+" module"),t.modules[n]=i},t.registerTheme=function(n,i){return t.themes[n]!=null&&console.warn("Overwriting "+n+" theme"),t.themes[n]=i},t.require=function(n){switch(n){case"lodash":return i;case"delta":return r;case"format":return s;case"normalizer":return a;case"dom":return u;case"document":return c;case"range":return h;default:return null}},t.prototype.destroy=function(){var n;return n=this.getHTML(),i.each(this.modules,function(n){if(i.isFunction(n.destroy))return n.destroy()}),this.editor.destroy(),this.removeAllListeners(),t.editors.splice(i.indexOf(t.editors,this),1),this.container.innerHTML=n},t.prototype.addContainer=function(n,t){var i,r;return t==null&&(t=!1),r=t?this.root:null,i=document.createElement("div"),u(i).addClass(n),this.container.insertBefore(i,r),i},t.prototype.addFormat=function(n,i){return this.editor.doc.addFormat(n,i),this.emit(t.events.FORMAT_INIT,n)},t.prototype.addModule=function(n,r){var u;if(u=t.modules[n],u==null)throw new Error("Cannot load "+n+" module. Are you sure you registered it?");return r===!0&&(r={}),r=i.defaults(r,this.theme.constructor.OPTIONS[n]||{},u.DEFAULTS||{}),this.modules[n]=new u(this,r),this.emit(t.events.MODULE_INIT,n,this.modules[n]),this.modules[n]},t.prototype.deleteText=function(n,i,u){var e,o,f;if(u==null&&(u=t.sources.API),f=this._buildParams(n,i,{},u),n=f[0],i=f[1],o=f[2],u=f[3],i>n)return e=(new r).retain(n)["delete"](i-n),this.editor.applyDelta(e,u)},t.prototype.emit=function(){var n,i;return i=arguments[0],n=2<=arguments.length?f.call(arguments,1):[],t.__super__.emit.apply(this,[t.events.PRE_EVENT,i].concat(f.call(n))),t.__super__.emit.apply(this,[i].concat(f.call(n))),t.__super__.emit.apply(this,[t.events.POST_EVENT,i].concat(f.call(n)))},t.prototype.focus=function(){return this.editor.focus()},t.prototype.formatLine=function(n,t,i,r,u){var s,e,h,f,o;return f=this._buildParams(n,t,i,r,u),n=f[0],t=f[1],s=f[2],u=f[3],o=this.editor.doc.findLineAt(t),e=o[0],h=o[1],e!=null&&(t+=e.length-h),this.formatText(n,t,s,u)},t.prototype.formatText=function(n,t,u,f,e){var h,o,s;return s=this._buildParams(n,t,u,f,e),n=s[0],t=s[1],o=s[2],e=s[3],o=i.reduce(o,function(n){return function(t,i,r){var u;return u=n.editor.doc.formats[r],i&&i!==u.config["default"]||(t[r]=null),t}}(this),o),h=(new r).retain(n).retain(t-n,o),this.editor.applyDelta(h,e)},t.prototype.getBounds=function(n){return this.editor.getBounds(n)},t.prototype.getContents=function(n,t){return n==null&&(n=0),t==null&&(t=null),i.isObject(n)&&(t=n.end,n=n.start),this.editor.delta.slice(n,t)},t.prototype.getHTML=function(){return this.editor.doc.getHTML()},t.prototype.getLength=function(){return this.editor.length},t.prototype.getModule=function(n){return this.modules[n]},t.prototype.getSelection=function(){return this.editor.checkUpdate(),this.editor.selection.getRange()},t.prototype.getText=function(n,t){return n==null&&(n=0),t==null&&(t=null),i.map(this.getContents(n,t).ops,function(n){return i.isString(n.insert)?n.insert:""}).join("")},t.prototype.insertEmbed=function(n,t,i,u){var e,s,o,f;return f=this._buildParams(n,0,t,i,u),n=f[0],s=f[1],o=f[2],u=f[3],e=(new r).retain(n).insert(1,o),this.editor.applyDelta(e,u)},t.prototype.insertText=function(n,t,i,u,f){var o,h,s,e;if(e=this._buildParams(n,0,i,u,f),n=e[0],h=e[1],s=e[2],f=e[3],t.length>0)return o=(new r).retain(n).insert(t,s),this.editor.applyDelta(o,f)},t.prototype.onModuleLoad=function(n,i){return this.modules[n]?i(this.modules[n]):this.on(t.events.MODULE_INIT,function(t,r){if(t===n)return i(r)})},t.prototype.prepareFormat=function(n,i,r){var u,f;if(r==null&&(r=t.sources.API),u=this.editor.doc.formats[n],u!=null)return(f=this.getSelection(),!(f!=null?f.isCollapsed():void 0))?void 0:u.isType(s.types.LINE)?this.formatLine(f,n,i,r):u.prepare(i)},t.prototype.setContents=function(n,u){var f;return u==null&&(u=t.sources.API),n=Array.isArray(n)?new r(n.slice()):new r(n.ops.slice()),f=i.last(n.slice(n.length()-1).ops),n["delete"](this.getLength()-1),f!=null&&i.isString(f.insert)&&i.last(f.insert)==="\n"&&n["delete"](1),this.updateContents(n,u)},t.prototype.setHTML=function(n,i){return i==null&&(i=t.sources.API),n.trim()||(n="<"+u.DEFAULT_BLOCK_TAG+"><"+u.DEFAULT_BREAK_TAG+"><\/"+u.DEFAULT_BLOCK_TAG+">"),this.editor.doc.setHTML(n),this.editor.checkUpdate(i)},t.prototype.setSelection=function(n,r,u){var f;return u==null&&(u=t.sources.API),i.isNumber(n)&&i.isNumber(r)?f=new h(n,r):(f=n,u=r||u),this.editor.selection.setRange(f,u)},t.prototype.setText=function(n,i){var u;return i==null&&(i=t.sources.API),u=(new r).insert(n),this.setContents(u,i)},t.prototype.updateContents=function(n,i){return i==null&&(i=t.sources.API),Array.isArray(n)&&(n={ops:n}),this.editor.applyDelta(n,i)},t.prototype._buildParams=function(){var r,n;return n=1<=arguments.length?f.call(arguments,0):[],i.isObject(n[0])&&n.splice(0,1,n[0].start,n[0].end),i.isString(n[2])&&(r={},r[n[2]]=n[3],n.splice(2,2,r)),n[3]==null&&(n[3]=t.sources.API),n},t}(l);e.registerTheme("base",n("./themes/base"));e.registerTheme("snow",n("./themes/snow"));t.exports=e},{"../package.json":7,"./core/document":8,"./core/editor":9,"./core/format":10,"./core/normalizer":13,"./lib/dom":17,"./lib/range":20,"./themes/base":32,"./themes/snow":33,eventemitter2:2,lodash:1,"rich-text/lib/delta":3}],31:[function(n,t){t.exports='.ql-image-tooltip{padding:10px;width:300px}.ql-image-tooltip:after{clear:both;content:"";display:table}.ql-image-tooltip a{border:1px solid #000;box-sizing:border-box;display:inline-block;float:left;padding:5px;text-align:center;width:50%}.ql-image-tooltip img{bottom:0;left:0;margin:auto;max-height:100%;max-width:100%;position:absolute;right:0;top:0}.ql-image-tooltip .input{box-sizing:border-box;width:100%}.ql-image-tooltip .preview{margin:10px 0;position:relative;border:1px dashed #000;height:200px}.ql-image-tooltip .preview span{display:inline-block;position:absolute;text-align:center;top:40%;width:100%}.ql-link-tooltip{padding:5px 10px}.ql-link-tooltip input.input{width:170px}.ql-link-tooltip a.done,.ql-link-tooltip input.input{display:none}.ql-link-tooltip a.change{margin-right:4px}.ql-link-tooltip.editing a.done,.ql-link-tooltip.editing input.input{display:inline-block}.ql-link-tooltip.editing a.change,.ql-link-tooltip.editing a.remove,.ql-link-tooltip.editing a.url{display:none}.ql-multi-cursor{position:absolute;left:0;top:0;z-index:1000}.ql-multi-cursor .cursor{margin-left:-1px;position:absolute}.ql-multi-cursor .cursor-flag{bottom:100%;position:absolute;white-space:nowrap}.ql-multi-cursor .cursor-name{display:inline-block;color:#fff;padding:2px 8px}.ql-multi-cursor .cursor-caret{height:100%;position:absolute;width:2px}.ql-multi-cursor .cursor.hidden .cursor-flag{display:none}.ql-multi-cursor .cursor.top .cursor-flag{bottom:auto;top:100%}.ql-multi-cursor .cursor.right .cursor-flag{right:-2px}.ql-paste-manager{left:-100000px;position:absolute;top:50%}.ql-toolbar{box-sizing:border-box}.ql-tooltip{background-color:#fff;border:1px solid #000;box-sizing:border-box;position:absolute;top:0;white-space:nowrap;z-index:2000}.ql-tooltip a{cursor:pointer;text-decoration:none}.ql-container{box-sizing:border-box;cursor:text;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;line-height:1.42;margin:0;overflow-x:hidden;overflow-y:auto;padding:12px 15px;position:relative}.ql-editor{box-sizing:border-box;min-height:100%;outline:0;tab-size:4;white-space:pre-wrap}.ql-editor div{margin:0;padding:0}.ql-editor a{text-decoration:underline}.ql-editor b{font-weight:700}.ql-editor i{font-style:italic}.ql-editor s{text-decoration:line-through}.ql-editor u{text-decoration:underline}.ql-editor a,.ql-editor b,.ql-editor i,.ql-editor s,.ql-editor span,.ql-editor u{background-color:inherit}.ql-editor img{max-width:100%}.ql-editor blockquote,.ql-editor ol,.ql-editor ul{margin:0 0 0 2em;padding:0}.ql-editor ol{list-style-type:decimal}.ql-editor ul{list-style-type:disc}.ql-editor.ql-ie-10 br,.ql-editor.ql-ie-9 br{display:none}'},{}],32:[function(n,t){var u,r,f,i;r=n("lodash");i=n("../../lib/dom");f=n("./base.styl");u=function(){function n(t,r){var u;this.quill=t;this.options=r;i(this.quill.container).addClass("ql-container");this.options.styles&&this.addStyles(f+n.objToCss(this.options.styles));i.isIE(10)&&(u=i.isIE(9)?"9":"10",i(this.quill.root).addClass("ql-ie-"+u))}return n.OPTIONS={},n.objToCss=function(n){return r.map(n,function(n,t){var i;return i=r.map(n,function(n,t){return t+": "+n+";"}).join(" "),t+" { "+i+" }"}).join("\n")},n.prototype.addStyles=function(t){var i;return r.isObject(t)&&(t=n.objToCss(t)),i=document.createElement("style"),i.type="text/css",i.appendChild(document.createTextNode(t)),document.head.appendChild(i)},n}();t.exports=u},{"../../lib/dom":17,"./base.styl":31,lodash:1}],33:[function(n,t){var u,f,e,o,i,r,s=function(n,t){function r(){this.constructor=n}for(var i in t)h.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},h={}.hasOwnProperty;i=n("lodash");f=n("../../lib/color-picker");u=n("../base");r=n("../../lib/dom");e=n("../../lib/picker");o=function(n){function t(n,u){this.quill=n;this.options=u;t.__super__.constructor.apply(this,arguments);r(this.quill.container).addClass("ql-snow");this.pickers=[];this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(n){return function(t){if(t!=null)return i.invoke(n.pickers,"close")}}(this));this.quill.onModuleLoad("multi-cursor",i.bind(this.extendMultiCursor,this));this.quill.onModuleLoad("toolbar",i.bind(this.extendToolbar,this))}return s(t,n),t.COLORS=["#000000","#e60000","#ff9900","#ffff00","#008A00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],t.OPTIONS={"multi-cursor":{template:'<span class="cursor-flag"> <span class="cursor-triangle top"><\/span> <span class="cursor-name"><\/span> <span class="cursor-triangle bottom"><\/span> <\/span> <span class="cursor-caret"><\/span>'}},t.prototype.extendMultiCursor=function(n){return n.on(n.constructor.events.CURSOR_ADDED,function(n){var t,i;return t=n.elem.querySelector(".cursor-triangle.bottom"),i=n.elem.querySelector(".cursor-triangle.top"),t.style.borderTopColor=i.style.borderBottomColor=n.color})},t.prototype.extendToolbar=function(n){return r(n.container).addClass("ql-snow"),i.each(["color","background","font","size","align"],function(t){return function(u){var o,s;if(s=n.container.querySelector(".ql-"+u),s!=null){switch(u){case"font":case"size":case"align":o=new e(s);break;case"color":case"background":o=new f(s);i.each(o.container.querySelectorAll(".ql-picker-item"),function(n,t){if(t<7)return r(n).addClass("ql-primary-color")})}if(o!=null)return t.pickers.push(o)}}}(this)),i.each(r(n.container).textNodes(),function(n){if(r(n).text().trim().length===0)return r(n).remove()})},t}(u);t.exports=o},{"../../lib/color-picker":16,"../../lib/dom":17,"../../lib/picker":19,"../base":32,lodash:1}]},{},[15])(15)});